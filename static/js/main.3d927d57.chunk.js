(this.webpackJsonpbormo=this.webpackJsonpbormo||[]).push([[0],{5463:function(e,t,n){e.exports=n(5671)},5468:function(e,t,n){},5671:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),i=n.n(o),s=n(5675),c=(n(5468),n(95)),l=n(30),u=n.n(l),m=n(24),p=n(12),d=n(13),h=n(16),g=n(14),f=n(34),b=n(15),E=n(5677),C=n(44),S=n.n(C),k=n(41),v=n(2),y=n(27),x=n(25),O={neutral:{themeObject:Object(y.createMuiTheme)({palette:{primary:{main:"#59698d"},secondary:{main:x.blueGrey[200]},error:{main:x.pink[500]},contrastThreshold:3,tonalOffset:.2},typography:{useNextVariants:!0}}),themeDescription:"\u041d\u0435\u0439\u0442\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u0430",themeName:"\u041d\u0435\u0439\u0442\u0440\u0430\u043b\u044c\u043d\u0430\u044f",themeKey:"neutral"},classic:{themeObject:Object(y.createMuiTheme)({palette:{primary:{main:x.indigo[500],light:x.indigo[300],dark:x.indigo[900],contrastText:x.white},secondary:{main:x.blueGrey[200],dark:x.blueGrey[600],contrastText:x.black},error:{main:x.orange[900]}},typography:{useNextVariants:!0}}),themeDescription:"\u041e\u0431\u044b\u0447\u043d\u0430\u044f \u0442\u0435\u043c\u0430",themeName:"\u041e\u0431\u044b\u0447\u043d\u0430\u044f",themeKey:"classic"},grey:{themeObject:Object(y.createMuiTheme)({palette:{primary:{main:x.blueGrey[500],light:x.blueGrey[300],dark:x.blueGrey[900],contrastText:x.black},secondary:{main:x.grey[200],dark:x.grey[600],contrastText:x.black},error:{main:x.orange[900]}},typography:{useNextVariants:!0}}),themeDescription:"\u0421\u0435\u0440\u044b\u0439 \u0430\u043f\u0435\u043b\u044c\u0441\u0438\u043d",themeName:"\u0421\u0435\u0440\u0430\u044f",themeKey:"grey"},amber:{themeObject:Object(y.createMuiTheme)({palette:{primary:{main:x.amber[400]},secondary:{main:x.blueGrey[400]},error:x.deepOrange,contrastThreshold:3,tonalOffset:.2},typography:{useNextVariants:!0}}),themeDescription:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0439 \u0443\u0434\u0430\u0440",themeName:"\u0416\u0435\u043b\u0442\u0430\u044f",themeKey:"amber"}},w=function(e){return r.a.createElement(v.I,Object.assign({direction:"left"},e))},N=function(e){e.classes;var t=e.isModalOpen,n=e.title,a=e.closeModal,o=e.innerComponent,i=void 0===o?null:o;return t?r.a.createElement("div",null,r.a.createElement(v.k,{fullWidth:!0,maxWidth:"sm",TransitionComponent:w,open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(v.n,{id:"alert-dialog-title"},n),r.a.createElement(v.m,null,i),r.a.createElement(v.l,null,r.a.createElement(v.d,{onClick:a,variant:"contained",color:"primary",autoFocus:!0},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))):null},j=Object(y.withStyles)((function(e){return{loaderWrapper:{display:"flex",flexDirection:"column",alignItems:"center",padding:2*e.spacing.unit},progress:{margin:2*e.spacing.unit},text:{padding:2*e.spacing.unit}}}))((function(e){var t=e.classes,n=e.text,a=void 0===n?"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f...":n;return r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(v.P,{className:t.text,variant:"caption",color:"primary"},a),r.a.createElement(v.i,{className:t.progress,variant:"indeterminate",color:"primary"}))})),P={volume:{default:1,min:0,max:1,step:.1,title:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c"},rate:{default:1,min:.1,max:10,step:.1,title:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"},pitch:{default:1,min:0,max:2,step:.1,title:"\u0412\u044b\u0441\u043e\u0442\u0430 \u0437\u0432\u0443\u043a\u0430"}},T="data/bormo.json",A="data/phrases.json",L=9,M=5,I=10,R=20,D=7,W={STARTED:"started",PAUSED:"paused",STOPPED:"stopped"},B="control",z="reverse control",G="mixed",H={ORIGIN_LANGUAGE:"originLanguage",ORIGIN:"origin",TRANSLATE:"translate"},K="This is a voice test",F=222,U=1500,V=window.location.origin.match(/github\.io/gi)?"/bormo/":"/",_={ESC:27,ENTER:13,SPACE:32,TAB:9},J={EN:"english",RU:"russian"},Y=3e3,q="https://dictionary.skyeng.ru/api/public/v1/words/search",X={UNKNOWN:"?",TEST_DATA:"\u042d\u0442\u043e \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",ERROR:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"},$={TEST:{COURSES:"data/courses.json",SEARCH:T,PHRASES:A,disabled:!1,COMMENT:"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},PHP_LOCAL:{COURSES:"http://bormophp.local:8080/courses.php",SEARCH:"http://bormophp.local:8080/search.php",PHRASES:"http://bormophp.local:8080/phrases.php",TEST:"http://bormophp.local:8080/test.php",disabled:!1,COMMENT:"PHP (lo\u0441alhost)"}},Q="TEST",Z=200,ee={SKYENG:"SkyEng",DB:"Database"},te="spellingStarted",ne="spellingStopped",ae="phrases",re={COURSES:"COURSES",PHRASES:"PHRASES",SEARCH:"SEARCH",TEST:"TEST"},oe=["id","soundUrl","partOfSpeech"],ie={id:"ID",text:"\u0441\u043b\u043e\u0432\u043e",partOfSpeech:"\u0447\u0430\u0441\u0442\u044c \u0440\u0435\u0447\u0438",translationText:"\u043f\u0435\u0440\u0435\u0432\u043e\u0434",translationNote:"\u043f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",transcription:"\u0442\u0440\u0430\u043d\u0441\u043a\u0440\u0438\u043f\u0446\u0438\u044f",soundUrl:"\u0437\u0432\u0443\u043a"},se={CLOSED:null,ABOUT:"about",HELP:" help"},ce=function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{volume:1,rate:1,pitch:1};Object(p.a)(this,e),this.resetParams=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n&&(e.voice=n),e.volume=t.volume,e.rate=t.rate,e.pitch=t.pitch},this.getVoiceList=function(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=window.speechSynthesis.getVoices(),n.abrupt("return",e(t));case 2:case"end":return n.stop()}}))},this.resetVoice=function(e){var t=new SpeechSynthesisUtterance("");n.resetParams(t,n.params,e);var a=e.lang.slice(0,2);n.supportEnglish="en"===a,n.speaker={ssu:t,voice:t.voice,lang:a}},this.setSpeaker=function(e){if(n.supportSound&&null===n.speaker){var t=e&&e.length>0?e:window.speechSynthesis.getVoices();if(t.length>0){var a=t.find((function(e){return"Google UK English"===e.name.slice(0,"Google UK English".length)}));a||(a=t.find((function(e){return"en"===e.lang.slice(0,2)})));var r=a||t[0];n.resetVoice(r)}}},this.setAnotherVoice=function(e,t){n.supportSound&&e&&t&&(n.params=Object.assign({},t),n.resetVoice(e))},this.mute=function(e){n.speakerMuted=e},this.speak=function(e){if(n.supportSound&&n.supportEnglish&&n.speaker&&!n.speakerMuted){var t=n.speaker,a=t.ssu,r=t.voice;a.text=e,window.navigator.userAgent.indexOf("Firefox")>=0&&(a=new SpeechSynthesisUtterance(e),n.resetParams(a,n.params,r)),e&&window.speechSynthesis.speak(a)}},this.getVoiceSupport=function(){return"\u0411\u0440\u0430\u0443\u0437\u0435\u0440 "+(n.supportSound?"":" \u041d\u0415 ")+" \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0441\u0438\u043d\u0442\u0435\u0437 \u0440\u0435\u0447\u0438"+(n.supportEnglish?"":". \u0421\u0438\u043d\u0442\u0435\u0437 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d")},this.supportSound="speechSynthesis"in window,this.supportEnglish=!1,this.speaker=null,this.speakerMuted=t,this.params=a},le=n(37),ue=n(5676),me=n(237),pe=n(9),de=n(7),he=Object(y.withStyles)((function(e){var t;return{mainWrapper:{flexGrow:1,backgroundColor:e.palette.primary.main,backgroundSize:"100px 100px, 100px 100px, 20px 20px, 20px 20px",backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),\n    linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px),\n    linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),\n    linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px)",display:"flex",justifyContent:"center",alignItems:"center"},card:(t={padding:"1%",boxShadow:"0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)"},Object(de.a)(t,e.breakpoints.down("sm"),{maxWidth:"200px"}),Object(de.a)(t,e.breakpoints.up("sm"),{minWidth:"400px"}),t),avatar:{backgroundColor:e.palette.primary.main}}}))((function(e){var t=e.classes;return r.a.createElement("div",{className:t.mainWrapper},r.a.createElement(v.f,{className:t.card},r.a.createElement(v.h,{title:"\u0411\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b - \u0437\u0443\u0431\u0440\u0438\u043b\u043a\u0438",avatar:r.a.createElement(v.b,{"aria-label":"Recipe",className:t.avatar,color:"primary"},r.a.createElement(pe.j,{fontSize:"default",color:"inherit"}))}),r.a.createElement(v.g,null,r.a.createElement(v.P,{variant:"h5"},"\u0411\u043e\u0440\u043c\u043e\u0442\u0443\u043d\u0447\u0438\u043a - 2019"),r.a.createElement(v.P,{variant:"caption"},r.a.createElement("p",null,"React, React Router, Material-UI"),r.a.createElement("p",null,"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 - Google Chrome")))))})),ge=n(6),fe=n.n(ge),be=Object(y.withStyles)((function(e){return{wrapper:{textAlign:"center",marginTop:2*e.spacing.unit}}}))((function(e){var t=e.classes;return r.a.createElement("div",{className:t.wrapper},r.a.createElement(v.P,{variant:"body2",component:"p"},"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0443\u0440\u0441 \u0438 \u0443\u0440\u043e\u043a..."),r.a.createElement(v.y,{smUp:!0,implementation:"css"},r.a.createElement(v.P,{variant:"caption",component:"p"},"\u0414\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u043f\u0430\u043d\u0435\u043b\u0438 \u0432\u044b\u0431\u043e\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u044d\u0442\u043e\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e:"),r.a.createElement(pe.a,null)))}));var Ee=function(e){var t=function(t){function n(e){var t;return Object(p.a)(this,n),(t=Object(h.a)(this,Object(g.a)(n).call(this,e))).onGlobalKeyPress=function(e){var n=String.fromCharCode(e.which).toLowerCase();if(e.altKey)switch(n){case"p":case"\u0437":e.preventDefault(),t.onDebouncedClick("onPreviousClick");break;case"n":case"\u0442":e.preventDefault(),t.onDebouncedClick("onNextClick");break;case"r":case"\u043a":e.preventDefault(),t.onDebouncedClick("onRestartClick")}},t.onDebouncedClick=Object(k.debounce)(t.onDebouncedClick.bind(Object(f.a)(t)),F),t}return Object(b.a)(n,t),Object(d.a)(n,[{key:"onDebouncedClick",value:function(e){this.props[e]()}},{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onGlobalKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onGlobalKeyPress)}},{key:"render",value:function(){return 0===this.props.content.length?r.a.createElement(be,null):r.a.createElement(e,this.props)}}]),n}(e);return t.displayName="BormoWrapper (".concat(e.displayName||e.name||"Component",")"),t},Ce=function(e){for(var t=e.slice(),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),r=t[n];t[n]=t[a],t[a]=r}return t},Se=function(e){for(var t=e.slice(),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),r=Object.assign({},t[n]);t[n]=Object.assign({},t[a]),t[a]=Object.assign({},r)}return t},ke=function(e,t){return Ce(e).map((function(e){var n=xe(t);return e[H.ORIGIN_LANGUAGE]=n,e[H.ORIGIN]=e[n],e[H.TRANSLATE]=e[Oe(n)],e}))},ve=function(e,t){return t[e].inactive},ye=function(e){return"?".repeat(e).split("").map((function(e,t){return{index:t,inactive:!1}}))},xe=function(e){return function(e){var t=J.RU;switch(e){case B:t=J.RU;break;case z:t=J.EN;break;case G:default:t=Math.random()>.5?J.EN:J.RU}return t}(e)},Oe=function(e){return e===J.EN?J.RU:J.EN},we=function(e){var t,n=e.content,a=e.controlMode;return{currentIndex:0,maxIndex:n.length-1,timerStatus:W.STARTED,memorized:ye(n.length),randomOrder:(t=n.length,Ce("?".repeat(t).split("").map((function(e,t){return t})))),content:ke(n,a),errorCount:0,okCount:0,wasError:!1,showSnack:!1}},Ne=function(e){var t=e.content;e.controlMode;return{currentIndex:0,maxIndex:t.length-1,timerStatus:W.STARTED,content:Se(t),errorCount:0,okCount:0,translate:"",wasError:!1}},je=function(e,t,n,a,r,o){return e>=0&&n[e]<=t&&n[e]>=0?r[n[e]][o]:""},Pe=function(e){return{currentIndex:0,maxIndex:e.content.length-1,timerStatus:W.STOPPED,memorized:ye(e.content.length)}},Te=function(e){var t=e.content,n=e.classes,a=e.currentIndex,o=e.startIndex,i=e.memorized,s=e.switchDisableOne;return r.a.createElement(v.y,{mdDown:!0},r.a.createElement("ul",{className:fe()(n.part,n.cardList)},t.slice(o,o+Math.floor(R/2)).map((function(e,t){return r.a.createElement("li",{className:n.cardItem,key:t+o},r.a.createElement(v.G,{className:fe()(n.card,ve(t+o,i)?n.colorized:null)},r.a.createElement(v.O,{title:'\u041f\u0435\u0440\u0435\u0432\u043e\u0434: "'+e.russian+'"',className:n.tooltip},r.a.createElement(v.P,{className:n.title,variant:"h6",color:t+o===a?"error":"secondary",onClick:function(){return s(t+o)}},e.english))))}))))},Ae=function(e){var t=e.classes,n=e.currentWord,a=e.currentTranslate,o=e.timerStatus,i=e.content,s=e.activeAmount,c=e.maxIndex,l=e.contentMissingMessage,u=e.currentCourse,m=e.currentLesson,p=e.currentIndex,d=e.onDebouncedSwitchCurrent,h=e.timerStart,g=e.timerPause,f=e.timerStop;return r.a.createElement("div",{className:fe()(t.part,t.partCentral)},i.length>0?r.a.createElement("div",{className:t.currentWord},r.a.createElement(v.G,{className:t.paper},r.a.createElement(v.P,{component:"p",variant:"h5",color:"inherit"},0===s?"\u0412\u0441\u0435 \u0441\u043b\u043e\u0432\u0430 \u044d\u0442\u043e\u0433\u043e \u0443\u0440\u043e\u043a\u0430 \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u044b \u043a\u0430\u043a \u0438\u0437\u0443\u0447\u0435\u043d\u043d\u044b\u0435...":n)),r.a.createElement(v.G,{className:t.paper},r.a.createElement(v.P,{component:"p",variant:"h5",color:"inherit"},0===s?"\u041c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0443\u0440\u043e\u043a \u0438\u043b\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u044d\u0442\u043e\u0442.":a)),r.a.createElement("div",{className:t.controls},r.a.createElement(v.z,{"aria-label":"\u0421\u0442\u0430\u0440\u0442",className:t.margin,onClick:h,title:"\u0421\u0442\u0430\u0440\u0442"},r.a.createElement(pe.u,null)),r.a.createElement(v.z,{"aria-label":"\u041f\u0430\u0443\u0437\u0430",className:t.margin,onClick:g,title:"\u041f\u0430\u0443\u0437\u0430"},r.a.createElement(pe.t,null)),r.a.createElement(v.z,{"aria-label":"\u0421\u0442\u043e\u043f",className:t.margin,onClick:f,title:"\u0421\u0442\u043e\u043f"},r.a.createElement(pe.C,null)),o===W.STARTED?r.a.createElement(v.z,{"aria-label":"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c",className:t.margin,onClick:d,"data-done":"true",title:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0441\u043b\u043e\u0432\u043e \u043a\u0430\u043a \u0438\u0437\u0443\u0447\u0435\u043d\u043d\u043e\u0435",autoFocus:!0},r.a.createElement(pe.e,null)):null),r.a.createElement(v.P,{component:"p",variant:"body2"},u.toUpperCase()+", \u0443\u0440\u043e\u043a "+m+" ("+(p+1)+" \u0438\u0437 "+(c+1)+")"),r.a.createElement(v.P,{component:"p",variant:"caption"},"SPACE - \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u0441\u043b\u043e\u0432\u043e \u043a\u0430\u043a \u0438\u0437\u0443\u0447\u0435\u043d\u043d\u043e\u0435")):l)},Le=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).timerStart=function(){if(n.state.timerStatus!==W.STARTED){var e=n.state.currentIndex;clearInterval(n.interval),n.interval=setInterval(n.ticks,Y),e>=0&&e<n.props.content.length&&n.bormoSpeaker.speak(n.props.content[e].english),n.setState({currentIndex:n.state.currentIndex,timerStatus:W.STARTED,memorized:ye(n.props.content.length)})}},n.timerPause=function(){n.state.timerStatus===W.STARTED&&(clearInterval(n.interval),n.setState({timerStatus:W.PAUSED}))},n.timerStop=function(){clearInterval(n.interval),n.setState({currentIndex:0,timerStatus:W.STOPPED})},n.switchDisableCurrent=function(){n.switchDisableOne(n.state.currentIndex)},n.switchDisableOne=function(e){var t=n.state,a=t.memorized;if(t.timerStatus===W.STARTED){var r=[].concat(Object(m.a)(a.slice(0,e)),[{index:e,inactive:!a[e].inactive}],Object(m.a)(a.slice(e+1)));n.setState({memorized:r}),n.props.config.instantNextMode&&0===r.filter((function(e){return!e.inactive})).length&&n.props.moveOn()}},n.onKeyPress=function(e){e.keyCode===_.SPACE&&(e.preventDefault(),n.onDebouncedSwitchCurrent())},n.state=Pe(n.props),n.ticks=n.ticks.bind(Object(f.a)(n)),n.onDebouncedSwitch=Object(k.debounce)(n.onDebouncedSwitch.bind(Object(f.a)(n)),F),n.onDebouncedSwitchCurrent=Object(k.debounce)(n.onDebouncedSwitchCurrent.bind(Object(f.a)(n)),F),n.bormoSpeaker=n.props.bormoSpeaker,n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.interval&&clearInterval(this.interval),this.setState(Pe(e)),this.interval=null}},{key:"ticks",value:function(){var e=this;this.setState((function(t){var n=t.currentIndex,a=t.memorized,r=a.filter((function(e){return!e.inactive&&e.index===n})),o=a.filter((function(e){return!e.inactive&&e.index<n})),i=a.filter((function(e){return!e.inactive&&e.index>n})),s=0===o.length&&0===i.length?Object(m.a)(r):[].concat(Object(m.a)(i),Object(m.a)(o));if(0===s.length&&0===r.length)return{currentIndex:0,timerStatus:W.STOPPED};var c=s[0].index;return e.bormoSpeaker.speak(e.props.content[c].english),{currentIndex:c}}))}},{key:"onDebouncedSwitch",value:function(e){this.switchDisableOne(e)}},{key:"onDebouncedSwitchCurrent",value:function(){this.switchDisableCurrent()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress),this.props.config.instantStart&&this.timerStart()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.classes,a=this.state,o=a.currentIndex,i=a.maxIndex,s=a.memorized,c=o<=i&&o>=0?t[o].english:"",l=o<=i&&o>=0?t[o].russian:"",u=s.reduce((function(e,t){return e+=t.inactive?0:1}),0);return r.a.createElement("div",{className:n.bormoWrapper},r.a.createElement("div",{className:n.parts},r.a.createElement(Te,{content:t,classes:n,currentIndex:o,startIndex:0,memorized:s,switchDisableOne:this.onDebouncedSwitch}),r.a.createElement(Ae,Object.assign({currentWord:c,currentTranslate:l,activeAmount:u},this.props,this.state,{onDebouncedSwitchCurrent:this.onDebouncedSwitchCurrent,timerStart:this.timerStart,timerPause:this.timerPause,timerStop:this.timerStop})),r.a.createElement(Te,{content:t,classes:n,currentIndex:o,startIndex:Math.floor(R/2),memorized:s,switchDisableOne:this.onDebouncedSwitch})))}}]),t}(a.Component),Me=Object(y.withStyles)((function(e){return{cardList:Object(de.a)({listStyle:"none",display:"flex",justifyContent:"space-between",flexWrap:"wrap",width:"100%",paddingLeft:"2.2%",paddingRight:"2.2%"},e.breakpoints.down("sm"),{justifyContent:"center"}),cardItem:Object(de.a)({minWidth:"100%",margin:e.spacing.unit},e.breakpoints.down("sm"),{margin:"4px",minWidth:"90%"}),card:Object(de.a)({padding:e.spacing.unit},e.breakpoints.down("sm"),{padding:"2px",marginTop:"0"}),part:Object(de.a)({width:"30%",textAlign:"center",paddingLeft:"1%",paddingRight:"1%"},e.breakpoints.down("md"),{width:"90%",margin:"auto"}),bormoWrapper:{width:"100%"},partDesktopOnly:Object(de.a)({},e.breakpoints.down("md"),{display:"none"}),parts:{display:"flex",justifyContent:"space-between",align:"stretch"},currentWord:{display:"flex",flexDirection:"column",marginTop:"50px"},controls:{margin:"50px auto 10px auto",maxWidth:"200px",maxHeight:"50px",alignSelf:"flex-end"},paper:{padding:"8px",margin:"8px",width:"100%",alignSelf:"center"},colorized:{backgroundColor:"rgb(232, 232, 232)"},title:Object(de.a)({},e.breakpoints.down("sm"),{fontSize:14}),underlined:{borderBottom:"2px solid ".concat(e.palette.primary.contrastText)}}}))(Ee(Le)),Ie=function(e){var t=e.content,n=e.classes,a=(e.currentIndex,e.startIndex),o=e.memorized,i=e.switchDisableOne;e.controlMode;return r.a.createElement("div",{className:fe()(n.part)},r.a.createElement("ul",{className:n.cardList},t.slice(a,a+Math.floor(R/2)).map((function(e,t){return r.a.createElement("li",{className:n.cardItem,key:t+a},r.a.createElement(v.G,{className:fe()(n.card,ve(t+a,o)?n.colorized:null)},r.a.createElement(v.P,{className:n.title,variant:"h6",color:"secondary",onClick:function(){return i(t+a)},title:e[H.ORIGIN]},e[H.ORIGIN])))}))))},Re=function(e){var t=e.classes,n=e.content,a=e.currentCourse,o=e.currentLesson,i=e.okCount,s=e.errorCount,c=e.currentTranslate,l=e.isHint,u=void 0!==l&&l;return r.a.createElement("div",{className:t.wrapper},r.a.createElement(v.c,{className:t.badge,color:"primary",badgeContent:o,title:"\u041a\u0443\u0440\u0441: "+a+", \u0443\u0440\u043e\u043a: "+o},a),r.a.createElement(v.G,{className:fe()(t.paper,t.currentPaper,t.currentWord,u?t.hint:"")},r.a.createElement(v.P,{className:fe()(t.currentWordContent),component:"p",variant:"h6",color:"inherit",align:"center",title:i===n.length?"Alt+N-ext, Alt+P-revious, Alt+R-estart":c},i===n.length?'\u0423\u0440\u043e\u043a "'+a+" \u2116 "+o+'" \u043f\u0440\u043e\u0439\u0434\u0435\u043d. \u0427\u0438\u0441\u043b\u043e \u043e\u0448\u0438\u0431\u043e\u043a: '+s:c)),r.a.createElement(v.c,{className:t.badge,color:"primary",badgeContent:s,title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0448\u0438\u0431\u043e\u043a: "+s},r.a.createElement(pe.g,{fontSize:"large",color:"error"})),r.a.createElement(v.c,{className:t.badge,color:"primary",badgeContent:i,title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0445: "+i},r.a.createElement(pe.d,{fontSize:"large",color:"disabled"})))},De=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onKeyPress=function(e){var t=String.fromCharCode(e.which).toLowerCase();if(e.altKey)switch(t){case"s":case"\u044b":e.preventDefault(),n.onSkip();break;case"h":case"\u0440":e.preventDefault(),n.onHint()}},n.onSkip=function(){var e=n.state,t=e.randomOrder,a=e.currentIndex,r=[].concat(Object(m.a)(t.slice(0,a)),Object(m.a)(t.slice(a+1)),[t[a]]);n.setState({randomOrder:r})},n.onHint=function(){n.setState((function(){n.setState({showHint:!0,errorCount:n.state.errorCount+1})}),n.hideHint())},n.hideHint=function(){setTimeout((function(){return n.setState({showHint:!1})}),U)},n.switchDisableOne=function(e){var t=n.props.controlMode,a=n.state,r=a.content,o=a.memorized,i=a.timerStatus,s=a.currentIndex,c=a.maxIndex,l=a.randomOrder,u=a.errorCount,p=a.okCount;if(i===W.STARTED&&r[e][Oe(t)]===r[l[s]][Oe(t)]){n.speakCurrent(s,c,l,t,r);var d=[].concat(Object(m.a)(o.slice(0,e)),[{index:e,inactive:!o[e].inactive}],Object(m.a)(o.slice(e+1)));s<c?n.setState({memorized:d,currentIndex:s+1,okCount:p+1,wasError:!1}):(n.setState({memorized:d,timerStatus:W.STOPPED,okCount:p+1,wasError:!1}),n.props.config.instantNextMode&&n.props.moveOn())}else n.setState({errorCount:u+1,wasError:!0}),n.speakError()},n.speakError=function(){return n.bormoSpeaker.speak("Not right.")},n.speakCurrent=function(e,t,a,r,o){if(n.state.timerStatus===W.STARTED){var i=je(e,t,a,r,o,H.ORIGIN_LANGUAGE),s=je(e,t,a,!0,o,i===J.RU?H.TRANSLATE:H.ORIGIN);n.bormoSpeaker.speak(s)}},n.state=we(n.props),n.bormoSpeaker=n.props.bormoSpeaker,n.onDebouncedSwitch=Object(k.debounce)(n.onDebouncedSwitch.bind(Object(f.a)(n)),F),n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"onDebouncedSwitch",value:function(e){this.switchDisableOne(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(we(e))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.currentLesson,a=e.currentCourse,o=e.controlMode,i=this.state,s=i.content,c=i.currentIndex,l=i.maxIndex,u=i.memorized,m=i.randomOrder,p=i.errorCount,d=i.okCount,h=i.showHint,g=je(c,l,m,o,s,h?H.ORIGIN:H.TRANSLATE);return s.length>0?r.a.createElement("div",null,r.a.createElement(Re,{classes:t,content:s,currentCourse:a,currentLesson:n,okCount:d,errorCount:p,currentTranslate:g,isHint:h}),r.a.createElement("div",{className:t.parts},r.a.createElement(Ie,{content:s,classes:t,currentIndex:c,startIndex:0,memorized:u,switchDisableOne:this.onDebouncedSwitch,controlMode:o}),r.a.createElement(Ie,{content:s,classes:t,currentIndex:c,startIndex:Math.floor(R/2),memorized:u,switchDisableOne:this.onDebouncedSwitch,controlMode:o}))):null}}]),t}(a.Component),We=Object(y.withStyles)((function(e){return{parts:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between"},part:{width:"47.7%"},cardList:Object(de.a)({listStyle:"none",display:"flex",justifyContent:"space-between",flexWrap:"wrap",width:"100%",paddingLeft:"2.2%",paddingRight:"2.2%"},e.breakpoints.down("sm"),{justifyContent:"center"}),cardItem:Object(de.a)({minWidth:"100%",margin:"4px",textAlign:"center",cursor:"pointer"},e.breakpoints.down("sm"),{margin:"4px",width:"90%"}),card:Object(de.a)({padding:e.spacing.unit},e.breakpoints.down("sm"),{padding:"2px",marginTop:"0",height:"22px",width:"100%"}),title:Object(de.a)({cursor:"pointer"},e.breakpoints.down("sm"),{fontSize:14,overflow:"hidden",maxWidth:"100%",maxHeight:"22px"}),paper:{padding:"8px",margin:"8px",width:"100%",alignSelf:"center"},colorized:{backgroundColor:"rgb(232, 232, 232)"},hint:{backgroundColor:e.palette.error.main,color:"white"},currentWord:Object(de.a)({width:"80%",margin:"20px auto"},e.breakpoints.down("sm"),{marginTop:"10px",order:"3",height:"22px"}),currentWordContent:Object(de.a)({fontWeight:"bold",cursor:"pointer"},e.breakpoints.down("sm"),{fontWeight:"normal",fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),currentPaper:Object(de.a)({},e.breakpoints.down("sm"),{padding:0}),wrapper:Object(de.a)({display:"flex",justifyContent:"space-around",alignItems:"center",padding:"0 2%"},e.breakpoints.down("sm"),{flexWrap:"wrap"}),badge:{padding:"0 ".concat(e.spacing.unit,"px"),textTransform:"uppercase"},snack:{backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText}}}))(Ee(De)),Be=function(e){return r.a.createElement(v.G,{className:e.classes.toolbar},r.a.createElement(v.z,{"aria-label":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",onClick:e.onSkip,title:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c (Alt+S) - Skip"},r.a.createElement(pe.E,null)),r.a.createElement(v.z,{"aria-label":"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430",onClick:e.onHint,title:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 (Alt+H) - Hint"},r.a.createElement(pe.o,null)))},ze=function(e){return r.a.createElement(v.G,{className:e.classes.toolbar},r.a.createElement(v.z,{"aria-label":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",onClick:e.onRestart,title:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0441\u043d\u0430\u0447\u0430\u043b\u0430 (Alt+R) - Repeat"},r.a.createElement(pe.x,null)))},Ge=function(e){return r.a.createElement(v.G,{className:e.classes.toolbar},r.a.createElement(v.z,{"aria-label":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c",onClick:e.onCheckCorrectness,title:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c (Alt+E) - Error checking"},r.a.createElement(pe.e,null)),r.a.createElement(v.z,{"aria-label":"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430",onClick:e.onHint,title:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 (Alt+H) - Hint"},r.a.createElement(pe.o,null)),r.a.createElement(v.z,{"aria-label":"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",onClick:e.onCancel,title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c (Alt+D) - Discard current)"},r.a.createElement(pe.B,null)),r.a.createElement(v.z,{"aria-label":"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430-\u043c\u044b\u0448\u044c",onClick:e.onSwitchMouseKeyboard,title:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043c\u044b\u0448\u0438\u043d\u044b\u043c \u0438 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u043d\u044b\u043c \u0440\u0435\u0436\u0438\u043c\u0430\u043c\u0438 (Alt+K) - Keyboard"},r.a.createElement(pe.A,null)),r.a.createElement(v.z,{"aria-label":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",onClick:e.onRestart,title:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0441\u043d\u0430\u0447\u0430\u043b\u0430 (Alt+R) - Repeat"},r.a.createElement(pe.x,null)))},He=Object(y.withStyles)((function(e){return{toolbar:{display:"flex",marginTop:"20px",justifyContent:"center",paddingLeft:"20px",paddingRight:"20px"}}}))((function(e){switch(e.toolbar){case te:return r.a.createElement(Be,e);case ne:return r.a.createElement(ze,e);case ae:return r.a.createElement(Ge,e);default:return null}})),Ke=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onTranslateChange=function(e){var t=e.target.value;n.setState({translate:t})},n.onTranslateValidate=function(e){var t=n.state,a=t.currentIndex,r=t.content,o=t.maxIndex,i=t.translate,s=t.errorCount,c=t.okCount;e.preventDefault(),r[a][J.EN].trim()===i.trim()?(n.bormoSpeaker.speak(i),a===o?n.setState({translate:"",timerStatus:W.STOPPED,currentIndex:0,wasError:!1,okCount:c+1}):n.setState({translate:"",currentIndex:a<o?a+1:0,wasError:!1,okCount:c+1})):n.setState({wasError:!0,errorCount:s+1})},n.onKeyPress=function(e){var t=String.fromCharCode(e.which).toLowerCase();if(e.altKey)switch(t){case"s":case"\u044b":e.preventDefault(),n.onSkip();break;case"h":case"\u0440":e.preventDefault(),n.onHint()}},n.onSkip=function(){var e=n.state,t=e.currentIndex,a=e.content,r=[].concat(Object(m.a)(a.filter((function(e,n){return n!==t}))),[a[t]]);n.setState({content:r})},n.onHint=function(){var e=n.state,t=e.content,a=e.currentIndex,r=e.errorCount;n.setState((function(){return{translate:t[a].english,wasError:!0,errorCount:r+1}}))},n.onRestart=function(){n.setState(Ne(n.props))},n.state=Ne(n.props),n.bormoSpeaker=n.props.bormoSpeaker,n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(Ne(e))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),document.removeEventListener("keydown",this.onKeyPress)}},{key:"componentWillUpdate",value:function(e,t,n){this.props.config.instantNextMode&&t.okCount===t.content.length&&0!==this.state.currentIndex&&this.props.moveOn()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.currentLesson,a=e.currentCourse,o=e.contentMissingMessage,i=this.state,s=i.content,c=i.currentIndex,l=i.maxIndex,u=i.errorCount,m=i.okCount,p=i.translate,d=i.timerStatus,h=c<=l?s[c][J.RU]:"";return s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.spellingWrapper},r.a.createElement("div",null,r.a.createElement(v.c,{className:t.badge,color:"primary",badgeContent:n,title:"\u041a\u0443\u0440\u0441: "+a+", \u0443\u0440\u043e\u043a: "+n},a),r.a.createElement(v.c,{className:t.badge,color:"primary",badgeContent:u,title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0448\u0438\u0431\u043e\u043a: "+u},r.a.createElement(pe.g,{fontSize:"large",color:"error"})),r.a.createElement(v.c,{className:t.badge,color:"primary",badgeContent:m,title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0445: "+m},r.a.createElement(pe.d,{fontSize:"large",color:"disabled"}))),r.a.createElement(v.G,{className:fe()(t.paper,t.currentPaper,t.currentWord)},r.a.createElement(v.P,{component:"p",variant:"h6",color:"inherit",align:"center"},m===s.length?'\u0423\u0440\u043e\u043a "'+a+" \u2116 "+n+'" \u043f\u0440\u043e\u0439\u0434\u0435\u043d '+(u>0?". \u0427\u0438\u0441\u043b\u043e \u043e\u0448\u0438\u0431\u043e\u043a: "+u:"..."):h)),r.a.createElement("form",{className:t.form,onSubmit:this.onTranslateValidate},d===W.STARTED?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.M,{required:!0,autoFocus:!0,id:"translate",label:p!==h&&""!==p?"\u041e\u0448\u0438\u0431\u043a\u0430":"\u041f\u0435\u0440\u0435\u0432\u043e\u0434:",value:p,fullWidth:!0,margin:"normal",onChange:this.onTranslateChange}),r.a.createElement(He,{toolbar:te,className:t.toolbar,onSkip:this.onSkip,onHint:this.onHint})):r.a.createElement(He,{toolbar:ne,className:t.toolbar,onRestart:this.onRestart})))):r.a.createElement("div",{className:"message"}," ",o," ")}}]),t}(r.a.PureComponent),Fe=Object(y.withStyles)((function(e){return{message:{width:"80%",margin:"40px auto"},spellingWrapper:Object(de.a)({display:"flex",flexDirection:"column",alignItems:"center",padding:"40px",margin:"0 auto",width:"100%"},e.breakpoints.down("sm"),{maxWidth:"100%"}),badge:{padding:"0 ".concat(e.spacing.unit,"px"),textTransform:"uppercase"},paper:{padding:"8px",margin:"8px",width:"100%",alignSelf:"center"},currentWord:Object(de.a)({width:"80%",margin:"20px auto",fontWeight:"bold"},e.breakpoints.down("sm"),{margin:"0 auto",width:"100%"}),form:Object(de.a)({width:"80%",margin:"20px auto"},e.breakpoints.down("sm"),{width:"100%"})}}))(Ee(Ke)),Ue=n(61),Ve=n.n(Ue),_e=n(63),Je=n.n(_e),Ye=n(29),qe=n.n(Ye),Xe=n(62),$e=n.n(Xe),Qe=n(38),Ze=n.n(Qe),et=n(65),tt=n.n(et),nt=n(66),at=n.n(nt),rt=n(33),ot=n.n(rt),it=n(64),st=n.n(it),ct=n(32),lt=n.n(ct),ut=n(93),mt=n.n(ut),pt=n(92),dt=n.n(pt),ht=n(73),gt=n.n(ht),ft=n(75),bt=n.n(ft),Et=n(74),Ct=n.n(Et),St=n(72),kt=n.n(St),vt=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){n.props.onChangePage(e,0)},n.handleBackButtonClick=function(e){n.props.onChangePage(e,n.props.page-1)},n.handleNextButtonClick=function(e){n.props.onChangePage(e,n.props.page+1)},n.handleLastPageButtonClick=function(e){n.props.onChangePage(e,Math.max(0,Math.ceil(n.props.count/n.props.rowsPerPage)-1))},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.count,a=e.page,o=e.rowsPerPage,i=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement(lt.a,{onClick:this.handleFirstPageButtonClick,disabled:0===a,"aria-label":"First Page"},"rtl"===i.direction?r.a.createElement(kt.a,null):r.a.createElement(gt.a,null)),r.a.createElement(lt.a,{onClick:this.handleBackButtonClick,disabled:0===a,"aria-label":"Previous Page"},"rtl"===i.direction?r.a.createElement(Ct.a,null):r.a.createElement(bt.a,null)),r.a.createElement(lt.a,{onClick:this.handleNextButtonClick,disabled:a>=Math.ceil(n/o)-1,"aria-label":"Next Page"},"rtl"===i.direction?r.a.createElement(bt.a,null):r.a.createElement(Ct.a,null)),r.a.createElement(lt.a,{onClick:this.handleLastPageButtonClick,disabled:a>=Math.ceil(n/o)-1,"aria-label":"Last Page"},"rtl"===i.direction?r.a.createElement(gt.a,null):r.a.createElement(kt.a,null)))}}]),t}(r.a.Component),yt=Object(y.withStyles)((function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}}),{withTheme:!0})(vt),xt=n(91),Ot=n.n(xt),wt=function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflow:"auto"},table:{width:"100%",maxHeight:"300px",overflow:"auto"},joinedPanel:{paddingLeft:4*e.spacing.unit,paddingRight:4*e.spacing.unit,border:"1px solid rgb(211,211,211)",display:"flex"},head:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText}}},Nt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onChangePage=function(e,t){n.setState({page:t})},n.isSelected=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.selected;return-1!==t.indexOf(e)},n.onCheckboxClick=function(e){var t=n.state.selected,a=n.isSelected(e)?t.filter((function(t){return t!==e})):Object(m.a)(new Set([].concat(Object(m.a)(n.state.selected),[e]))),r=n.props.data.map((function(e){return e.translate})).filter((function(e,t){return n.isSelected(t,a)})).join(", ");n.setState({selected:a,joinedTranslate:r})},n.onSwitchEditMode=function(){n.setState({editMode:!n.state.editMode})},n.onTranslateChange=function(e){var t=e.target.value;n.setState({joinedTranslate:t})},n.state={page:0,rowsPerPage:M,selected:[],joinnedTranslate:"",editMode:!1},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({page:0,selected:[],joinedTranslate:"",editMode:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.data,o=t.currentTranslateSource,i=this.state,s=i.page,c=i.rowsPerPage,l=i.joinedTranslate,u=i.selected,m=i.editMode,p=o===ee.DB;return r.a.createElement(ot.a,{className:n.form},r.a.createElement(Ve.a,{className:n.table},r.a.createElement($e.a,null,r.a.createElement(Ze.a,{className:n.head},r.a.createElement(qe.a,{align:"left"},"\u0412\u044b\u0431\u043e\u0440"),p?r.a.createElement(qe.a,{align:"left"},"\u0421\u043b\u043e\u0432\u043e"):null,r.a.createElement(qe.a,{align:"left"},"\u041f\u0435\u0440\u0435\u0432\u043e\u0434"))),r.a.createElement(Je.a,null,a.slice(s*c,s*c+c).map((function(t,n){return r.a.createElement(Ze.a,{tabIndex:-1,key:n+s*c},r.a.createElement(qe.a,{padding:"checkbox"},r.a.createElement(st.a,{checked:e.isSelected(n+s*c),onClick:function(){return e.onCheckboxClick(n+s*c)}})),p?r.a.createElement(qe.a,{align:"left"},t.word):null,r.a.createElement(qe.a,{align:"left"},t.translate))}))),r.a.createElement(tt.a,null,r.a.createElement(Ze.a,null,r.a.createElement(at.a,{rowsPerPageOptions:[M],count:a.length,rowsPerPage:c,page:s,SelectProps:{native:!0},onChangePage:this.onChangePage,ActionsComponent:yt})))),u.length>0?r.a.createElement("div",{className:n.joinedPanel},r.a.createElement(lt.a,{color:"inherit",fontSize:"small",disabled:!0,title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 \u0411\u0414 (\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0443\u0440\u043e\u043a\u0438, \u0440\u0430\u0437\u0434\u0435\u043b OWN)"},r.a.createElement(dt.a,null)),r.a.createElement(lt.a,{color:"inherit",fontSize:"small",title:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0435\u0436\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430",onClick:this.onSwitchEditMode},r.a.createElement(mt.a,null)),r.a.createElement(Ot.a,{id:"joined",title:"\u0417\u0430\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u0411\u0414 : "+l,value:l,fullWidth:!0,margin:"normal",disabled:!m,onChange:this.onTranslateChange})):null)}}]),t}(a.Component),jt=Object(y.withStyles)(wt)(Nt),Pt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onChangePage=function(e,t){n.setState({page:t})},n.isSelected=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.selected;return-1!==t.indexOf(e)},n.onCheckboxClick=function(e){var t=n.state.selected,a=n.isSelected(e)?t.filter((function(t){return t!==e})):Object(m.a)(new Set([].concat(Object(m.a)(n.state.selected),[e])));n.setState({selected:a})},n.state={page:0,rowsPerPage:M,selected:[],joinnedTranslate:"",editMode:!1},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({page:0,selected:[],joinedTranslate:"",editMode:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.tableData,o=t.tableStructure,i=t.showCheckbox,s=this.state,c=s.page,l=s.rowsPerPage;return r.a.createElement(ot.a,{className:n.root},r.a.createElement(Ve.a,{className:n.table},r.a.createElement($e.a,null,r.a.createElement(Ze.a,{className:n.head},i?r.a.createElement(qe.a,{align:"left",key:0},"\u0412\u044b\u0431\u043e\u0440"):null,o.map((function(e,t){return r.a.createElement(qe.a,{align:"left",key:t},function(e){return ie[e]?ie[e]:e}(e))})))),r.a.createElement(Je.a,null,a.slice(c*l,c*l+l).map((function(t,n){return r.a.createElement(Ze.a,{tabIndex:-1,key:n+c*l},i?r.a.createElement(qe.a,{padding:"checkbox"},r.a.createElement(st.a,{checked:e.isSelected(n+c*l),onClick:function(){return e.onCheckboxClick(n+c*l)}})):null,o.map((function(e,n){return r.a.createElement(qe.a,{padding:"dense",align:"left",key:n+" "+e.id},t[e]?t[e]:"-")})))}))),r.a.createElement(tt.a,null,r.a.createElement(Ze.a,null,r.a.createElement(at.a,{rowsPerPageOptions:[M],count:a.length,rowsPerPage:l,page:c,SelectProps:{native:!0},onChangePage:this.onChangePage,ActionsComponent:yt})))))}}]),t}(a.Component);Pt.defaultProps={tableData:[],tableStructure:[],showCheckBox:!1};var Tt=Object(y.withStyles)(wt)(Pt),At=function(e,t){return Object.keys(e).filter((function(e){return!(-1!==t.indexOf(e))}))},Lt=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},n.handleChange=function(e,t){n.setState({value:t})},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.skyData,a=this.state.value,o=n.meanings.length>0?At(n.meanings[0],oe):[],i=n.phrases.length>0?At(n.phrases[0],[].concat(Object(m.a)(oe),["translationNote"])):[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.G,{className:t.root},r.a.createElement(v.L,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(v.K,{label:"\u041f\u0435\u0440\u0435\u0432\u043e\u0434"}),r.a.createElement(v.K,{label:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b"}))),0===a&&r.a.createElement(Tt,{tableData:n.meanings,tableStructure:o}),1===a&&r.a.createElement(Tt,{tableData:n.phrases,tableStructure:i}))}}]),t}(r.a.PureComponent),Mt=Object(y.withStyles)((function(e){return{root:{flexGrow:1}}}))(Lt),It=n(239),Rt=function(){function e(t){var n=this;Object(p.a)(this,e);var a=t&&Array.isArray(t)?t:[],r=a&&Array.isArray(a)?a:[[],[]],o=Object(It.a)(r),i=o[0],s=o.slice(1),c=i.meanings,l=a&&Array.isArray(a)&&Array.isArray(c)&&c.length>0&&i&&c[0];this._basicInfo=l?{id:i.id,text:i.text,partOfSpeech:c[0]?c[0].partOfSpeechCode:"",transcription:c[0]?c[0].transcription:"",soundUrl:c[0]?c[0].soundUrl:""}:null,this._meanings=l?c.map((function(e){return{id:e.id,partOfSpeech:e.partOfSpeechCode,translationText:e.translation.text,translationNote:e.translation.note}})):[],this._phrases=l?s.map((function(e){return e.meanings.length>0?{id:e.id,text:e.text,partOfSpeech:e.meanings[0].partOfSpeechCode,translationText:e.meanings[0].translation.text,translationNote:e.meanings[0].translation.note,transcription:e.meanings[0].transcription,soundUrl:e.meanings[0].soundUrl}:{}})).filter((function(e){return-1!==e.text.indexOf(n._basicInfo.text)})):[],this._ok=l}return Object(d.a)(e,[{key:"basicInfo",get:function(){return this._basicInfo}},{key:"meanings",get:function(){return this._meanings}},{key:"phrases",get:function(){return this._phrases}},{key:"status",get:function(){return this._ok}}]),e}(),Dt=new Audio,Wt=function(e){var t=e.data,n=e.classes,a=new Rt(t);return a.status?r.a.createElement("div",{className:n.form},r.a.createElement(v.G,{className:fe()(n.paperFlex,n.paper)},r.a.createElement(v.P,{variant:"h6"}," \u0421\u043b\u043e\u0432\u043e: ",a.basicInfo.text," [ ",a.basicInfo.transcription," ]"),r.a.createElement(v.e,{className:n.simpleButton,onClick:function(){return function(e){if(e)try{Dt.src=e,Dt.play()}catch(t){}}(a.basicInfo.soundUrl)}},r.a.createElement(pe.D,null))),r.a.createElement(v.G,{className:n.paper},r.a.createElement(Mt,{skyData:a}))):r.a.createElement(v.P,{variant:"h6"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.")},Bt=function(e,t){if(t)return Object(m.a)(e);var n=[];if(e&&e[0]&&e[0].meanings){var a=e[0].meanings;n=Object(m.a)(new Set(a.map((function(e){return e.translation.text}))))}return n.map((function(e){return{word:"",translate:e}}))},zt=function(e){return Object(m.a)(e.content)},Gt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t===ee.SKYENG?Bt(e,n):zt(e)},Ht=function(e){var t=e.onlySkyEng,n=Object(le.a)(e,["onlySkyEng"]);return t?r.a.createElement(Wt,n):r.a.createElement(jt,n)},Kt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onSearch=function(){var e,t,a,r,o,i,s,c,l,m,p,d;return u.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(e=n.state,t=e.skyEng,a=e.searchText,r=e.exact,o=n.props,i=o.onlySkyEng,s=o.APIkey,c=t?q:$[s].SEARCH,l=t?{search:a}:{word:a,exact:+r},m=null,p=null,""===a.trim()){h.next=19;break}if(!t&&s===Q){h.next=19;break}return h.prev=8,h.next=11,u.a.awrap(S.a.get(c,{params:l}));case 11:d=h.sent,m=t?ee.SKYENG:ee.DB,p=Gt(d.data,m,i),h.next=18;break;case 16:h.prev=16,h.t0=h.catch(8);case 18:n.setState({searchResult:p,currentTranslateSource:m});case 19:case"end":return h.stop()}}),null,null,[[8,16]])},n.onKeyPress=function(e){e.keyCode===_.ENTER&&(e.preventDefault(),n.onSearch())},n.onWordChange=function(e){var t=e.target.value;e.keyCode===_.ENTER?n.onSearch():n.setState({searchText:t})},n.onOptionChange=function(e){return function(t){n.setState(Object(de.a)({},e,t.target.checked))}},n.bormoSpeaker=n.props.bormoSpeaker,n.state={searchText:"",skyEng:!!e.onlySkyEng,searchResult:null,currentTranslateSource:null,exact:!0},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onlySkyEng,a=e.APIkey,o=this.state,i=o.searchText,s=o.skyEng,c=o.searchResult,l=o.currentTranslateSource,u=o.exact,m=!s&&!n&&a===Q;return r.a.createElement("div",{className:t.search},r.a.createElement("form",{className:t.form,onSubmit:this.onSearch},r.a.createElement(v.P,{className:t.formTitle,variant:"h5"},"\u041f\u043e\u0438\u0441\u043a "+(n?"(Skyeng)":"")),r.a.createElement(v.x,null,r.a.createElement(v.M,{required:!0,id:"word",label:"\u0421\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",value:i,fullWidth:!0,margin:"normal",onKeyDown:this.onKeyPress,onChange:this.onWordChange}),n?null:r.a.createElement(v.w,{control:r.a.createElement(v.J,{checked:s,onChange:this.onOptionChange("skyEng"),value:s,color:"primary",name:"skyEng"}),label:"\u0418\u0441\u043a\u0430\u0442\u044c \u0432 SkyEng (on - \u0432 skyEng, off - \u0432 \u0411\u0414)"})),r.a.createElement(v.d,{size:"small",variant:"contained",color:"secondary",disabled:m,onClick:this.onSearch,className:t.button,title:"\u041f\u043e\u0438\u0441\u043a \u0432 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0435"},"\u041f\u043e\u0438\u0441\u043a "+(s?"\u0432 skyEng":"\u0432 \u0411\u0414")+(m?"  \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d: \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435!":"")),s?null:r.a.createElement(v.w,{className:t.exact,control:r.a.createElement(v.J,{checked:u,onChange:this.onOptionChange("exact"),value:u,color:"primary",name:"exact",disabled:m}),label:"\u0418\u0441\u043a\u0430\u0442\u044c \u0442\u043e\u0447\u043d\u043e\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435 (on - \u0442\u043e\u0447\u043d\u043e\u0435, off - \u043d\u0435\u0442\u043e\u0447\u043d\u043e\u0435)"})),c?r.a.createElement(Ht,{data:c,currentTranslateSource:l,onlySkyEng:n,classes:t}):null)}}]),t}(a.PureComponent);Kt.defaultProps={APIkey:Q};var Ft,Ut=Object(y.withStyles)((function(e){return{search:{width:"100%"},form:Object(de.a)({width:"88%",margin:"20px auto"},e.breakpoints.down("sm"),{width:"100%",marginTop:"0"}),exact:Object(de.a)({marginLeft:"20px"},e.breakpoints.down("sm"),{marginLeft:"-14px"}),wrapperFix:{position:"fixed",overflowY:"auto",padding:.2*e.spacing.unit},wrapper:{maxHeight:"80vh",maxWidth:"90%",margin:"0 auto"},listUnstyled:{listStyle:"none"},paper:{padding:e.spacing.unit,marginTop:e.spacing.unit},paperFlex:{display:"flex"},simpleButton:{marginTop:.5*e.spacing.unit},formTitle:Object(de.a)({},e.breakpoints.down("sm"),{marginTop:0,fontSize:"1rem"})}}))(Kt),Vt=function(e){var t=e.APIkey;return r.a.createElement(Ut,{onlySkyEng:!1,APIkey:t})},_t=function(){return r.a.createElement(Ut,{onlySkyEng:!0})},Jt={MAIN:V,BORMO:V+"bormotun",CONTROL:V+"control",REVERSE:V+"reversecontrol",SPELLING:V+"spelling",CHECK:V+"check",CONFIG:V+"config",SEARCH:V+"search",PHRASES:V+"phrases",SKYENG:V+"skyeng"},Yt=[Jt.MAIN,Jt.SEARCH,Jt.PHRASES,Jt.SKYENG],qt=[Jt.BORMO,Jt.CONTROL,Jt.REVERSE,Jt.SPELLING,Jt.CHECK],Xt={m:Jt.BORMO,"\u044c":Jt.BORMO,c:Jt.CONTROL,"\u0441":Jt.CONTROL,o:Jt.SPELLING,"\u0449":Jt.SPELLING,i:Jt.REVERSE,"\u0448":Jt.REVERSE,v:Jt.CHECK,"\u043c":Jt.CHECK},$t=(Ft={},Object(de.a)(Ft,Jt.MAIN,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),Object(de.a)(Ft,Jt.SEARCH,"\u041f\u043e\u0438\u0441\u043a"),Object(de.a)(Ft,Jt.PHRASES,"\u0424\u0440\u0430\u0437\u044b"),Object(de.a)(Ft,Jt.SKYENG,"SkyEng"),Object(de.a)(Ft,Jt.BORMO,"\u0411\u043e\u0440\u043c\u043e"),Object(de.a)(Ft,Jt.CONTROL,"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c"),Object(de.a)(Ft,Jt.REVERSE,"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442"),Object(de.a)(Ft,Jt.SPELLING,"\u041f\u0440\u0430\u0432\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),Object(de.a)(Ft,Jt.CHECK,"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"),Ft),Qt=function(e,t){return t=t||0,Math.round(e*Math.pow(10,t))/Math.pow(10,t)},Zt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{isModalOpen:se.CLOSED,isConfigOpen:n,isSearchOpen:!1,currentTheme:e,currentMode:null,currentCourse:null,currentLesson:null,courses:[],lessons:[],content:[],isLoading:!0,config:{instantStart:!0,instantNextMode:!0,countErrorAtPrompt:!0},APIkey:Object.keys($)[0],soundMuted:!1,onlyEnglish:!0,voiceConfig:{russian:"",english:"",volume:1,rate:1,pitch:1},mobileOpen:!1,isNotBormo:t,keyboardMode:!0}},en=function(e,t){return e>=0&&e<t.length},tn=function(e,t,n){return{mode:$t[e]||"",details:-1!==[Jt.SEARCH,Jt.SKYENG,Jt.CONFIG].indexOf(e)?"":(t?": "+t.toString().toUpperCase():"")+(n?"-"+n:"")}},nn=function(e,t,n,a){return n.split(" ").map((function(e){return e.toLowerCase()})).forEach((function(n,r){var o=e.indexOf(n.trim().toLowerCase());-1!==o&&(t[o]=t[o]+a)})),t},an=function(e){var t,n,a=e.content,r=e.keyboardMode,o=void 0!==r&&r,i=function(e){var t={};return e.forEach((function(e){e.english.trim().toLowerCase().split(" ").forEach((function(e){t[e]=t.hasOwnProperty(e)?t[e]+1:1}))})),t}(a),s=Object.keys(i).slice().sort((function(e,t){return(n=e)>(a=t)?1:n<a?-1:0;var n,a}));return{wordsContent:s,wordsAmount:(t=i,n=s,n.map((function(e){return t.hasOwnProperty(e)?t[e]:0}))),currentIndex:0,data:a,result:"",errorCount:0,okCount:0,wasError:!1,keyboardMode:o,showSnackBar:!1,hintWasTaken:!1}},rn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onKeyPress=function(e){var t=String.fromCharCode(e.which).toLowerCase();if(e.altKey)switch(t){case"e":case"\u0443":e.preventDefault(),n.onCheckCorrectness(e,!1);break;case"d":case"\u0432":e.preventDefault(),n.onCancel();break;case"h":case"\u0440":e.preventDefault(),n.onHint();break;case"k":case"\u043b":e.preventDefault(),n.onSwitchMouseKeyboard()}else e.keyCode!==_.ENTER||n.state.keyboardMode||n.onCheckCorrectness(e,n.state.hintWasTaken)},n.onWordClick=function(e){var t=n.state,a=t.wordsContent,r=t.wordsAmount,o=t.result;if(!t.keyboardMode&&r[e]>0){var i=r.map((function(t,n){return n===e?t-1:t})),s=o+" "+a[e];n.setState({wordsAmount:i,result:s})}},n.onHint=function(){var e=n.state,t=e.currentIndex,a=e.data,r=e.errorCount,o=e.result,i=e.keyboardMode,s=e.wordsAmount,c=e.wordsContent;if(!i&&""!==o.trim()){var l=nn(c,s,o,1);n.setState((function(){return{wordsAmount:l}}))}n.setState({result:a[t].english,errorCount:r+1,hintWasTaken:!0})},n.onCheckCorrectness=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.state,r=a.currentIndex,o=a.data,i=a.result,s=a.okCount,c=a.errorCount,l=a.keyboardMode,u=a.wordsAmount,m=a.wordsContent;if(e.preventDefault(),o[r].english.toLowerCase().trim()===i.toLowerCase().trim()){var p=en(r+1,o)?r+1:0,d=l||t?nn(m,u,i,-1):u,h=n.props.config.instantNextMode&&0===d.filter((function(e){return 0!==e})).length;n.bormoSpeaker.speak(o[r].english),n.setState({currentIndex:p,result:"",okCount:s+1,wasError:!1,wordsAmount:d,showSnack:h,hintWasTaken:!1}),h&&setTimeout((function(){return n.props.onNextClick()}),U)}else{var g=l||t?u:nn(m,u,i,1);n.setState({errorCount:c+1,wasError:!0,result:l?i:"",wordsAmount:g,hintWasTaken:!1})}},n.onCancel=function(){var e=n.state,t=e.wordsContent,a=e.wordsAmount;e.result.trim().split(" ").forEach((function(e){var n=t.indexOf(e.trim());-1!==n&&a[n]++})),n.setState({result:"",wordsAmount:a})},n.onRestart=function(){n.setState(an(n.props))},n.onSwitchMouseKeyboard=function(){var e=n.state,t=e.result,a=e.keyboardMode,r=e.wordsAmount,o=e.wordsContent,i=a?r:nn(o,r,t,1);n.setState({keyboardMode:!n.state.keyboardMode,result:"",wordsAmount:i})},n.onTranslateChange=function(e){var t=e.target.value;n.setState({result:t})},n.state=an(e),n.bormoSpeaker=n.props.bormoSpeaker,n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(an(e))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this,t=this.state,n=t.wordsContent,a=t.wordsAmount,o=t.currentIndex,i=t.data,s=t.result,c=t.keyboardMode,l=t.wasError,u=t.okCount,m=t.errorCount,p=this.props.classes,d=0===a.filter((function(e){return 0!==e})).length,h="\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430. \u0412\u0441\u0435\u0433\u043e \u0444\u0440\u0430\u0437: ".concat(u," , \u0447\u0438\u0441\u043b\u043e \u043e\u0448\u0438\u0431\u043e\u043a: ").concat(m);return i.length>0?r.a.createElement("div",{className:p.wrapper},r.a.createElement("ul",{className:p.wordsWrapper},n.map((function(t,n){return r.a.createElement("li",{key:n},r.a.createElement(r.a.Fragment,null,c?null:r.a.createElement(v.c,{className:p.badge,color:"secondary",badgeContent:a[n]},r.a.createElement("span",null)),r.a.createElement(v.d,{key:n,variant:"contained",color:"primary",className:p.wordButton,size:"small",disabled:!en(n,a)||a[n]<=0,onClick:function(){return e.onWordClick(n)}},t)))}))),r.a.createElement(v.G,{className:p.paper},r.a.createElement(v.P,{variant:"h5",className:p.typo,color:d?"error":"inherit"},d?h:function(e,t){return Array.isArray(e)?e[t].russian:"\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"}(i,o))),r.a.createElement(v.G,{className:p.paper},c?r.a.createElement("form",{className:p.form,onSubmit:this.onCheckCorrectness},r.a.createElement(v.M,{required:!0,autoFocus:!0,id:"result",label:l?"\u041d\u0443\u0436\u043d\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443:":"\u041f\u0435\u0440\u0435\u0432\u043e\u0434:",value:s,fullWidth:!0,margin:"normal",onChange:this.onTranslateChange})):r.a.createElement(v.P,{variant:"h5",className:p.typo},s||"?")),r.a.createElement(He,{toolbar:ae,className:p.toolbar,onRestart:this.onRestart,onSwitchMouseKeyboard:this.onSwitchMouseKeyboard,onCheckCorrectness:this.onCheckCorrectness,onCancel:this.onCancel})):r.a.createElement(be,null)}}]),t}(r.a.PureComponent),on=Object(y.withStyles)((function(e){return{wrapper:{display:"flex",flexDirection:"column"},wordsWrapper:Object(de.a)({display:"flex",flexWrap:"wrap",alignItems:"flex-start",listStyle:"none",justifyContent:"center"},e.breakpoints.down("md"),{marginTop:0}),paper:{padding:2*e.spacing.unit,marginTop:2*e.spacing.unit,textAlign:"center"},wordButton:{paddingLeft:4*e.spacing.unit,paddingRight:4*e.spacing.unit,marginRight:2*e.spacing.unit,marginTop:2*e.spacing.unit},buttonWrapper:{display:"flex",justifyContent:"center",marginTop:1*e.spacing.unit},budge:{padding:"0",marginTop:"0"},typo:Object(de.a)({"&:first-letter":{textTransform:"capitalize"}},e.breakpoints.down("md"),{fontSize:"1rem"})}}))(Ee(rn)),sn=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handleSelect=function(e){n.setState((function(){return{anchorEl:null}})),n.props.onSelectDataSource(e)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,n=this.props,a=n.fixed,o=n.classes,i=n.current;return r.a.createElement("div",{className:fe()(a?o.fixed:"",o.flex)},r.a.createElement(v.P,{variant:"body2"},i),r.a.createElement(v.d,{"aria-owns":t?"simple-menu":void 0,"aria-haspopup":"true",color:"secondary",onClick:this.handleClick,title:"\u0412\u044b\u0431\u043e\u0440 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"},r.a.createElement(pe.A,null)),r.a.createElement(v.E,{id:"data-source-selector",anchorEl:t,open:Boolean(t),onClose:this.handleClose},Object.keys($).filter((function(e){return!$[e].disabled})).map((function(t,n){return r.a.createElement(v.F,{key:n,onClick:function(){return e.handleSelect(t)},title:t},$[t].COMMENT)}))))}}]),t}(r.a.Component);sn.defaultProps={fixed:!1,current:""};var cn=Object(y.withStyles)((function(e){return{fixed:{position:"fixed",bottom:"10px",right:0},flex:{display:"flex",alignItems:"center"}}}))(sn),ln=function(e){var t=e.classes,n=e.APIkey,a=e.testStatus,o=e.checkAPI,i=(e.onOptionChange,e.onSelectDataSource);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.P,{variant:"caption",className:t.configGroup},"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445"),r.a.createElement(v.G,{className:t.configPaper},r.a.createElement(v.x,{className:t.configGroup},r.a.createElement("div",{className:t.flex},r.a.createElement(v.d,{size:"small",variant:"contained",color:"secondary",onClick:o,className:t.configButton},"\u0422\u0435\u0441\u0442 API",r.a.createElement(pe.m,{className:t.rightIcon,fontSize:"small"})),r.a.createElement(cn,{onSelectDataSource:i,current:n})),r.a.createElement(v.P,{variant:"body2",color:"primary",className:t.text},"\u0421\u0442\u0430\u0442\u0443\u0441: ",a))))},un=function(e){var t=e.classes,n=e.instantStart,a=e.instantNextMode,o=e.countErrorAtPrompt,i=e.keyboardMode,s=e.onOptionChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.P,{variant:"caption",className:t.configGroup},"\u041e\u0431\u0449\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),r.a.createElement(v.G,{className:t.configPaper},r.a.createElement(v.x,{className:t.configGroup},r.a.createElement(v.w,{control:r.a.createElement(v.J,{checked:n,onChange:s("instantStart"),value:"instantStart",color:"primary"}),label:"\u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0430 \u0431\u0435\u0437 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043d\u0430\u0436\u0430\u0442\u0438\u044f \u043a\u043d\u043e\u043f\u043a\u0438 \u0421\u0442\u0430\u0440\u0442"}),r.a.createElement(v.w,{control:r.a.createElement(v.J,{checked:a,onChange:s("instantNextMode"),value:"instantNextMode",color:"primary"}),label:"\u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0430 \u043f\u043e\u0441\u043b\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e"}),r.a.createElement(v.w,{control:r.a.createElement(v.J,{checked:o,onChange:s("countErrorAtPrompt"),value:"countErrorAtPrompt",color:"primary",disabled:!0}),label:"\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0442\u044c \u0441\u0447\u0435\u0442\u0447\u0438\u043a \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438"}),r.a.createElement(v.w,{control:r.a.createElement(v.J,{checked:i,onChange:s("keyboardMode"),value:"keyboardMode",color:"primary"}),label:"\u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0424\u0440\u0430\u0437\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"}))))},mn=n(236),pn=function(e,t){return e>=t.min&&e<=t.max?e:t.default},dn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e,t){n.props.onSliderChange(n.props.name,t),n.setState({value:t})},n.state={value:pn(n.props.value,n.props.params)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:pn(e.value,e.params)})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.params,a=e.noTitle,o=e.verticalOnMobile,i=this.state.value;return r.a.createElement("div",{className:o?t.sliderWrapperVertical:t.sliderWrapper},a?null:r.a.createElement(v.P,{id:"Slider"},n.title+": "+Math.round(10*i)/10),r.a.createElement(mn.a,{classes:{container:t.slider},value:i,disabled:parseInt(n.min,10)>=parseInt(n.max,10),min:parseInt(n.min,10),max:parseInt(n.max,10),step:n.step,vertical:o,"aria-labelledby":"Slider",onChange:this.handleChange}))}}]),t}(r.a.Component);dn.defaultProps={noTitle:!1,verticalOnMobile:!1};var hn=Object(y.withStyles)((function(e){return{sliderWrapper:{width:"100%",padding:0,margin:0},slider:{padding:e.spacing.unit/2,margin:e.spacing.unit/2}}}))(dn),gn=function(e){var t=e.classes,n=e.onlyEnglish,a=e.soundMuted,o=e.volume,i=e.voiceParams,s=e.pitch,c=e.currentVoice,l=e.onOptionChange,u=e.onSliderChange,m=e.onVoiceChange,p=e.checkVoice,d=e.bormoSpeaker,h=e.voices;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.P,{variant:"caption",className:t.configGroup},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0432\u0443\u043a\u0430"),r.a.createElement(v.G,{className:t.configPaper},r.a.createElement(v.x,{className:t.configGroup},r.a.createElement(v.P,{variant:"subtitle1"},d.getVoiceSupport()),r.a.createElement("div",{className:t.flex},r.a.createElement(v.w,{control:r.a.createElement(v.J,{checked:a,onChange:l("soundMuted"),value:"soundMuted",color:"primary"}),label:"\u0431\u0435\u0437\u0437\u0432\u0443\u0447\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"}),r.a.createElement(v.w,{control:r.a.createElement(v.J,{checked:n,onChange:l("onlyEnglish"),value:"onlyEnglish",color:"primary",disabled:!0}),label:"\u043e\u0437\u0432\u0443\u0447\u0438\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"})),r.a.createElement(hn,{name:"volume",params:i.volume,value:o,onSliderChange:u}),r.a.createElement(v.P,{variant:"caption",className:t.configGroup},"\u0427\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430, \u0442\u0435\u043c \u043f\u0438\u0441\u043a\u043b\u044f\u0432\u0435\u0439 \u0437\u0432\u0443\u043a. \u041d\u043e\u0440\u043c\u0430: 1 "),r.a.createElement(hn,{name:"pitch",params:i.pitch,value:s,onSliderChange:u})),r.a.createElement(v.d,{size:"small",variant:"contained",color:"secondary",onClick:p,className:t.configButton},"\u0422\u0435\u0441\u0442 \u0437\u0432\u0443\u043a\u0430",r.a.createElement(pe.D,{className:t.rightIcon,fontSize:"small"})),r.a.createElement(v.H,{value:c,onChange:m,inputProps:{name:"choice"},title:"\u0412\u044b\u0431\u043e\u0440 \u0441\u0438\u043d\u0442\u0435\u0437\u0430\u0442\u043e\u0440\u0430 \u0440\u0435\u0447\u0438"},0===h.length?null:h.map((function(e){return r.a.createElement(v.F,{className:t.item,value:e.name,key:e.name,title:e.name},e.name)})))))},fn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onThemeChange=function(e){var t=e.target.value;n.setState(Object(de.a)({},e.target.name,t)),n.props.onThemeSelect(t)},n.state={choice:e.currentTheme.themeKey},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){this.setState({choice:e.currentTheme.themeKey})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.themes,a=e.fromConfig,o=void 0!==a&&a,i=e.light,s=void 0!==i&&i;return r.a.createElement("form",{className:o?t.rootFromConfig:t.root,autoComplete:"off"},r.a.createElement(v.v,{className:s?t.light:t.dark},r.a.createElement(v.H,{variant:"standard",value:this.state.choice,onChange:this.onThemeChange,inputProps:{name:"choice"},title:"\u0412\u044b\u0431\u043e\u0440 \u0442\u0435\u043c\u044b \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430"},0===n.length?null:n.map((function(e){return r.a.createElement(v.F,{className:t.item,value:e.themeKey,key:e.themeKey,title:e.themeDescription},e.themeName)})))))}}]),t}(a.PureComponent),bn=Object(y.withStyles)((function(e){return{root:Object(de.a)({display:"flex",flexWrap:"wrap"},e.breakpoints.down("sm"),{display:"none"}),rootfromConfig:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:100,"& ::before":{borderBottom:"1px solid white"}},selectEmpty:{marginTop:2*e.spacing.unit},light:{color:e.palette.primary.contrastText,"& *":{color:e.palette.primary.contrastText}},dark:{}}}))(fn),En=function(e){var t=e.classes,n=e.currentTheme,a=e.themes,o=e.onThemeSelect;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.P,{variant:"caption",className:t.configGroup},"\u0426\u0432\u0435\u0442\u043e\u0432\u0430\u044f \u0442\u0435\u043c\u0430 (\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435)"),r.a.createElement(v.G,{className:t.configPaper},r.a.createElement(bn,{onThemeSelect:o,currentTheme:n,themes:a,fromConfig:!0})))},Cn=function(e){var t=e.classes,n=e.saveConfig,a=e.closeConfig;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.d,{variant:"contained",color:"primary",onClick:n,className:t.configButton}," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c "),r.a.createElement(v.d,{variant:"contained",color:"secondary",onClick:a,className:t.configButton}," \u041e\u0442\u043c\u0435\u043d\u0430 "))},Sn=function(e,t){return Object(c.a)({},e.config,{},e.voiceConfig,{soundMuted:e.soundMuted,onlyEnglish:e.onlyEnglish,currentTheme:e.currentTheme,APIkey:e.APIkey,currentVoice:t,testStatus:X.UNKNOWN})},kn=function(e){function t(e){var n;Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onOptionChange=function(e){return function(t){n.setState(Object(de.a)({},e,t.target.checked))}},n.onSliderChange=function(e,t){var a=Qt(t,1);"undefined"!==typeof n.bormoSpeaker.speaker.ssu[e]&&(n.bormoSpeaker.speaker.ssu[e]=a),n.setState(Object(de.a)({},e,a))},n.onInputChange=function(e){return function(t){n.setState(Object(de.a)({},e,t.target.value))}},n.checkVoice=function(){n.bormoSpeaker.speak(K)},n.onVoiceChange=function(e){var t=e.target.value;if(n.voices.length>0&&t){var a=n.voices.find((function(e){return e.name===t}));if(a){var r=n.state,o=r.volume,i=r.pitch,s=r.rate;n.bormoSpeaker.setAnotherVoice(a,{volume:o,pitch:i,rate:s}),n.setState({currentVoice:t})}}},n.onSelectDataSource=function(e){n.setState({APIkey:e,testStatus:X.UNKNOWN})},n.checkAPI=function(){var e,t,a,r,o;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=n.state.APIkey,t=$[e],a=[],r=[],o=e!==Q,n.setState((function(){return{isLoading:!0}})),!o||!t){i.next=17;break}return i.prev=7,i.next=10,u.a.awrap(S.a.get(t[re.TEST],{}));case 10:r=i.sent,a=r&&r.status===Z?r.data.content:[],i.next=17;break;case 14:i.prev=14,i.t0=i.catch(7),a=X.ERROR;case 17:o||(a=X.TEST_DATA),n.setState({testStatus:a});case 19:case"end":return i.stop()}}),null,null,[[7,14]])},n.saveConfig=function(){var e=n.state,t={config:{instantStart:e.instantStart,instantNextMode:e.instantNextMode,countErrorAtPrompt:e.countErrorAtPrompt},APIkey:e.APIkey,soundMuted:e.soundMuted,currentTheme:e.currentTheme,keyboardMode:e.keyboardMode};n.props.onConfigChange(Object.assign({},t))},n.voices=window.speechSynthesis.getVoices().filter((function(e){return"en"===e.lang.slice(0,2)})),n.bormoSpeaker=n.props.bormoSpeaker;var a=n.bormoSpeaker.speaker?n.bormoSpeaker.speaker.voice.name:"";return n.state=Sn(e,a),n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.bormoSpeaker=e.bormoSpeaker,this.voices=window.speechSynthesis.getVoices().filter((function(e){return"en"===e.lang.slice(0,2)}));var t=this.bormoSpeaker.speaker?this.bormoSpeaker.speaker.voice.name:"";this.setState(Sn(e,t))}},{key:"render",value:function(){var e=this.props,t=e.isConfigOpen,n=e.classes,a=e.currentTheme,o=e.themes,i=e.onThemeSelect,s=e.closeConfig,c=this.state,l=c.currentVoice,u=c.onlyEnglish,m=c.pitch,p=c.volume,d=c.soundMuted,h=c.APIkey,g=c.testStatus,f=c.instantStart,b=c.instantNextMode,E=c.countErrorAtPrompt,C=c.keyboardMode;return t?r.a.createElement(v.k,{fullScreen:!0,open:t},r.a.createElement("div",{className:n.configWrapper},r.a.createElement(v.a,{position:"fixed",color:"secondary",className:n.bar},r.a.createElement(v.P,{variant:"h5",className:n.configGroup},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f")),r.a.createElement(un,{classes:n,onOptionChange:this.onOptionChange,instantStart:f,instantNextMode:b,keyboardMode:C,countErrorAtPrompt:E}),r.a.createElement(ln,{classes:n,APIkey:h,testStatus:g,checkAPI:this.checkAPI,onOptionChange:this.onOptionChange,onSelectDataSource:this.onSelectDataSource}),r.a.createElement(gn,{classes:n,onlyEnglish:u,soundMuted:d,volume:p,voiceParams:P,pitch:m,currentVoice:l,onOptionChange:this.onOptionChange,onSliderChange:this.onSliderChange,onVoiceChange:this.onVoiceChange,checkVoice:this.checkVoice,bormoSpeaker:this.bormoSpeaker,voices:this.voices}),r.a.createElement(En,{classes:n,currentTheme:a,themes:o,onThemeSelect:i}),r.a.createElement(Cn,{classes:n,saveConfig:this.saveConfig,closeConfig:s}))):null}}]),t}(r.a.Component),vn=Object(y.withStyles)((function(e){return{configWrapper:{margin:"32px auto",padding:e.spacing.unit},configButton:{margin:e.spacing.unit},configGroup:{margin:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},configPaper:{marginBottom:"32px"},flex:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing.unit},text:{textAlign:"center",paddingBottom:e.spacing.unit,paddingTop:0},bar:{padding:e.spacing.unit,textAlign:"center"},buttons:{margin:"0 auto"}}}))(kn),yn=n(5674),xn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).setRedirect=function(){n.setState({needRedirect:!0})},n.state={needRedirect:!1},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.state.needRedirect?r.a.createElement(me.a,{render:function(){return r.a.createElement(yn.a,{to:Jt.MAIN})}}):r.a.createElement("section",{className:e.page404},r.a.createElement("h5",{className:e.page404__title},"\u0423\u043aa\u0437\u0430\u043d\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),r.a.createElement(v.d,{variant:"contained",color:"primary",className:e.button,onClick:this.setRedirect},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",r.a.createElement(pe.y,{className:fe()(e.rightIcon,e.iconSmall)})))}}]),t}(r.a.Component),On=Object(y.withStyles)((function(e){return{page404:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},page404__header:{textAlign:"center"},button:{margin:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20}}}))(xn),wn=function(e){var t=e.classes,n=e.currentCourse,a=e.currentLesson,o=e.content,i=e.config,s=e.bormoSpeaker,c=e.onNextClick,l=e.onPreviousClick,u=e.onRestartClick,m=e.moveOn,p=Object(le.a)(e,["classes","currentCourse","currentLesson","content","config","bormoSpeaker","onNextClick","onPreviousClick","onRestartClick","moveOn"]);return r.a.createElement("main",{className:t.content},p.isLoading?r.a.createElement(j,null):r.a.createElement(ue.a,null,r.a.createElement(me.a,{exact:!0,path:Jt.MAIN,component:he}),r.a.createElement(me.a,{path:Jt.BORMO,render:function(){return r.a.createElement(Me,{content:o,bormoSpeaker:s,currentLesson:a,currentCourse:n,config:i,onPreviousClick:l,onNextClick:c,onRestartClick:u,moveOn:m})}}),r.a.createElement(me.a,{path:Jt.CONTROL,render:function(){return r.a.createElement(We,{content:o,bormoSpeaker:s,currentLesson:a,currentCourse:n,config:i,controlMode:B,onPreviousClick:l,onNextClick:c,onRestartClick:u,moveOn:m})}}),r.a.createElement(me.a,{path:Jt.REVERSE,render:function(){return r.a.createElement(We,{content:o,bormoSpeaker:s,currentLesson:a,currentCourse:n,config:i,controlMode:z,onPreviousClick:l,onNextClick:c,onRestartClick:u,moveOn:m})}}),r.a.createElement(me.a,{path:Jt.SPELLING,render:function(){return r.a.createElement(Fe,{content:o,bormoSpeaker:s,currentLesson:a,currentCourse:n,config:i,reverse:!0,onPreviousClick:l,onNextClick:c,onRestartClick:u,moveOn:m})}}),r.a.createElement(me.a,{path:Jt.CHECK,render:function(){return r.a.createElement(We,{content:o,bormoSpeaker:s,currentLesson:a,currentCourse:n,config:i,controlMode:G,onPreviousClick:l,onNextClick:c,onRestartClick:u,moveOn:m})}}),r.a.createElement(me.a,{path:Jt.SEARCH,render:function(){return r.a.createElement(Vt,{bormoSpeaker:s,APIkey:p.APIkey})}}),r.a.createElement(me.a,{path:Jt.SKYENG,render:function(){return r.a.createElement(_t,null)}}),r.a.createElement(me.a,{path:Jt.PHRASES,render:function(){return r.a.createElement(on,{content:o,bormoSpeaker:s,config:i,keyboardMode:p.keyboardMode,currentSection:a,onPreviousClick:l,onNextClick:c,onRestartClick:u,moveOn:m})}}),r.a.createElement(me.a,{path:Jt.CONFIG,render:function(){return r.a.createElement(vn,{currentTheme:p.currentTheme,themes:p.themes,config:i,voiceConfig:p.voiceConfig,soundMuted:p.soundMuted,onlyEnglish:p.onlyEnglish,APIkey:p.APIkey,bormoSpeaker:s,isConfigOpen:p.isConfigOpen,closeConfig:p.closeConfig,onConfigChange:p.onConfigChange,onThemeSelect:p.onThemeSelect})}}),r.a.createElement(me.a,{component:On})))},Nn=n(5673),jn=Object(y.withStyles)((function(e){return{tabActive:{borderBottom:"2px solid",borderColor:e.palette.primary.contrastText}}}))((function(e){var t=e.classes,n=e.children,a=Object(le.a)(e,["classes","children"]);return r.a.createElement(Nn.a,Object.assign({activeClassName:t.tabActive},a),n)})),Pn=function(e){var t=e.classes,n=(e.burgerEl,e.onBurgerClick,e.onBurgerClose);return r.a.createElement(r.a.Fragment,null,r.a.createElement(jn,{to:Jt.BORMO,className:t.menuLink,title:"\u0411\u043e\u0440\u043c\u043e\u0442\u0430\u043d\u0438\u0435 (Alt-M) - Mumble",onClick:n},r.a.createElement(pe.j,{className:t.icon,fontSize:"small",color:"inherit"}),r.a.createElement("span",{className:t.text},"\u0411\u043e\u0440\u043c\u043e\u0442\u0430\u043d\u0438\u0435")),r.a.createElement(jn,{to:Jt.CONTROL,className:t.menuLink,title:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c (Alt-C) - Control",onClick:n},r.a.createElement(pe.e,{className:t.icon,fontSize:"small",color:"inherit"}),r.a.createElement("span",{className:t.text},"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c")),r.a.createElement(jn,{to:Jt.REVERSE,className:t.menuLink,title:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442 (Alt-I) - Inverse control",onClick:n},r.a.createElement(pe.f,{className:t.icon,fontSize:"small",color:"inherit"}),r.a.createElement("span",{className:t.text},"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442")),r.a.createElement(jn,{to:Jt.SPELLING,className:t.menuLink,title:"\u041f\u0440\u0430\u0432\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (Alt-O) - Orthography",onClick:n},r.a.createElement(pe.v,{className:t.icon,fontSize:"small",color:"inherit"}),r.a.createElement("span",{className:t.text},"\u041f\u0440\u0430\u0432\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435")),r.a.createElement(jn,{to:Jt.CHECK,className:t.menuLink,title:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 (Alt-V) - Validation",onClick:n},r.a.createElement(pe.q,{className:t.icon,fontSize:"small",color:"inherit"}),r.a.createElement("span",{className:t.text},"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430")))},Tn=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.z,{color:"inherit",className:e.classes.mobileOn,title:"\u041f\u0443\u043d\u043a\u0442\u044b \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u044e...",onClick:e.onBurgerClick},r.a.createElement(pe.r,null)),r.a.createElement(v.E,{id:"burger-menu",anchorEl:e.burgerEl,onClose:e.onBurgerClose,open:Boolean(e.burgerEl)},r.a.createElement(Pn,e)))},An=Object(y.withStyles)((function(e){var t;return{menuList:{display:"flex"},asideText:Object(de.a)({},e.breakpoints.down("sm"),{display:"none"}),text:(t={marginLeft:"7px"},Object(de.a)(t,e.breakpoints.down("lg"),{display:"none"}),Object(de.a)(t,e.breakpoints.down("md"),{display:"flex"}),t),menuLink:{display:"flex",justifyContent:"space-between",alignItems:"center",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,textDecoration:"none",margin:e.spacing.unit,padding:e.spacing.unit,transition:"background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&:hover":{backgroundColor:e.palette.primary.light,color:e.palette.primary.dark},"&:focus":{boxShadow:"0 0 0 1px ".concat(e.palette.primary.light," inset"),backgroundColor:e.palette.primary.light},"&:active":{backgroundImage:"linear-gradient(to bottom, "+e.palette.primary.light+" 0%, "+e.palette.primary.main+" 50%, "+e.palette.primary.light+" 100%)",boxShadow:"0 3px 5px 2px "+e.palette.primary.dark,color:e.palette.primary.contrastText}},mobileOn:Object(de.a)({display:"none"},e.breakpoints.down("sm"),{display:"flex"}),mobileOff:Object(de.a)({display:"flex"},e.breakpoints.down("sm"),{display:"none"}),burgerOpened:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText}}}))((function(e){var t=e.classes,n=Object(le.a)(e,["classes"]);return r.a.createElement("nav",{className:t.menuList},r.a.createElement(jn,{exact:!0,to:Jt.MAIN,className:t.menuLink,title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"},r.a.createElement(pe.l,{className:t.icon,fontSize:"small",color:"inherit"}),r.a.createElement("span",{className:t.text},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement("div",{className:t.mobileOff},r.a.createElement(Pn,Object.assign({classes:t},n))),r.a.createElement(Tn,Object.assign({classes:t},n)))})),Ln=n(126),Mn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onMenuClose=function(e){n.setState({anchorEl:null})},n.onAnchorClick=function(e){n.setState({anchorEl:e.currentTarget})},n.onBurgerClose=function(e){n.setState({burgerEl:null})},n.onBurgerClick=function(e){n.setState({burgerEl:e.currentTarget})},n.onConfigClick=function(){n.setState({anchorEl:null}),n.props.openConfig()},n.onModalClick=function(){n.setState({anchorEl:null}),n.props.openModal()},n.state={anchorEl:null,burgerEl:null},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.burgerEl,a=t.anchorEl;return r.a.createElement("div",{className:e.bar},r.a.createElement(v.P,{variant:"h5",color:"inherit",className:e.switchable},"\u0411\u043e\u0440\u043c\u043e",r.a.createElement("span",{className:e.switchablePart},"\u0442\u0443\u043d\u0447\u0438\u043a")),r.a.createElement(An,{burgerEl:n,onBurgerClick:this.onBurgerClick,onBurgerClose:this.onBurgerClose}),r.a.createElement(v.z,{color:"inherit",onClick:this.onAnchorClick,title:"\u041f\u0440\u043e\u0447\u0438\u0435 \u043f\u0443\u043d\u043a\u0442\u044b \u043c\u0435\u043d\u044e"},r.a.createElement(pe.s,null)),r.a.createElement(v.E,{className:e.menu,id:"simple-menu",anchorEl:a,onClose:this.onMenuClose,open:Boolean(a)},r.a.createElement(Ln.a,{className:e.navItem,to:Jt.CONFIG,onClick:this.onConfigClick},r.a.createElement(v.F,{title:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430")),r.a.createElement(v.F,{onClick:this.onModalClick,title:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e \u043e\u0431 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0440\u0435\u0436\u0438\u043c\u0430\u0445"},"\u041e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0435"),r.a.createElement(v.o,null),r.a.createElement(Ln.a,{className:e.navItem,to:Jt.SEARCH,onClick:this.onMenuClose},r.a.createElement(v.F,{title:"\u041f\u043e\u0438\u0441\u043a c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445"},"\u041f\u043e\u0438\u0441\u043a (\u0411\u0414 || Skyeng)")),r.a.createElement(Ln.a,{className:e.navItem,to:Jt.SKYENG,onClick:this.onMenuClose},r.a.createElement(v.F,{title:"\u041f\u043e\u0438\u0441\u043a \u0432 Skyeng \u0441 \u043f\u043e\u043b\u043d\u044b\u043c\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438"},"\u041f\u043e\u0438\u0441\u043a Skyeng")),r.a.createElement(v.o,null),r.a.createElement(Ln.a,{className:e.navItem,to:Jt.PHRASES,onClick:this.onMenuClose},r.a.createElement(v.F,{title:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0424\u0440\u0430\u0437\u044b"},"\u0424\u0440\u0430\u0437\u044b"))))}}]),t}(a.PureComponent),In=Object(y.withStyles)((function(e){return{bar:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},menu:{marginRight:"0",justifyContent:"space-between"},switchable:Object(de.a)({},e.breakpoints.down("md"),{display:"none"}),navItem:{color:"rgba(0, 0, 0, 0.87)",textDecoration:"none",outline:"none"},menuItem:{padding:"16px",marginRight:0,color:"rgba(0, 0, 0, 0.87)",width:"100%",height:"24px",overflow:"hidden",fontSize:"1rem",fontWeight:"400",fontFamily:"Roboto, Helvetica, Arial, sans-serif",lineHeight:"1.5em",whiteSpace:"nowrap",textDecoration:"none",outline:"none","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&:focus":{backgroundColor:"rgba(0, 0, 0, 0.5)"}}}}))(Mn),Rn=function(e){var t=e.classes,n=e.currentTheme,a=e.themes,o=e.onDrawerToggle,i=e.openModal,s=e.closeModal,c=e.openConfig,l=e.closeConfig,u=e.onThemeSelect;return r.a.createElement(v.a,{position:"fixed",className:t.appBar},r.a.createElement(v.N,{position:"static"},r.a.createElement(v.z,{color:"secondary","aria-label":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c",onClick:o,className:t.menuButton,title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0432\u044b\u0431\u043e\u0440\u0430 \u043a\u0443\u0440\u0441\u0430 \u0438 \u0443\u0440\u043e\u043a\u043e\u0432"},r.a.createElement(pe.a,null)),r.a.createElement(In,{theme:n,openModal:i,closeModal:s,openConfig:c,closeConfig:l,onThemeSelect:u,currentTheme:n,themes:a})))},Dn=n(94),Wn=n.n(Dn),Bn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={wasError:!1},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidCatch",value:function(){this.setState({wasError:!0})}},{key:"render",value:function(){return this.state.wasError?r.a.createElement(v.G,null,r.a.createElement(v.P,{variant:"caption",color:"primary"},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430...")):this.props.children}}]),t}(r.a.Component),zn=function(e){var t=e.name,n=e.color,a=e.fontSize;switch(t){case"basic":return r.a.createElement(pe.w,{color:n,fontSize:a});case"ABC":return r.a.createElement(pe.i,{color:n,fontSize:a});case"book":return r.a.createElement(pe.p,{color:n,fontSize:a});case"other":default:return r.a.createElement(pe.n,{color:n,fontSize:a})}},Gn=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).onCourseClick=function(){return n.props.onCourseChange(n.props.item.name,n.props.ind)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentCourse,n=e.item,a=e.classes;return r.a.createElement("li",null,r.a.createElement(v.B,{button:!0,key:n.name,title:n.name.toUpperCase(),onClick:this.onCourseClick,className:a.asideItem},r.a.createElement(v.C,{className:a.asideIcon},r.a.createElement(zn,{name:n.name,color:n.name===t?"primary":"disabled",fontSize:"small"})),r.a.createElement(v.D,{primary:n.name,className:n.name===t?a.asideTextActive:a.asideText,disableTypography:!0})))}}]),t}(a.PureComponent);Gn.CourseIcon=zn;var Hn=Object(y.withStyles)((function(e){return{asideText:{color:"rgba(0, 0, 0, 0.26)",fontWeight:"700",textTransform:"uppercase"},asideTextActive:{color:e.palette.primary.main,fontWeight:"700",textTransform:"uppercase"},asideItem:{flexShrink:"1"},asideIcon:{marginRight:"2px"}}}))(Gn),Kn=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).onLessonClick=function(){n.props.location.pathname!==Jt.PHRASES&&-1!==Yt.indexOf(n.props.location.pathname)&&n.props.history.push(Jt.BORMO),n.props.onLessonChange(n.props.item,!0)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentLesson,n=e.item,a=e.classes;return r.a.createElement(v.u,{color:n===t?"primary":"secondary",title:"\u0423\u0440\u043e\u043a "+n,onClick:this.onLessonClick,className:a.btn,size:"small"},n)}}]),t}(a.PureComponent),Fn=Object(y.withStyles)((function(e){return{btn:{textAlign:"center",flexShrink:1,margin:e.spacing.unit,padding:e.spacing.unit}}}))(Object(E.a)(Kn)),Un=function(e,t,n){return e+Math.min(n,t-e+1)-1},Vn=function(e,t,n){return e+n>=t?e:e+n},_n=function(e,t,n){return e-n<=1?1:e-n},Jn=function(e){return e.expanded&&e.paginationStart!==e.paginationStartTmp?e.paginationStartTmp:e.paginationStart},Yn=function(e){for(var t=e.lessons,n=e.currentLesson,a=e.onLessonChange,o=e.classes,i=e.expanded,s=e.start,c=e.finish,l=[],u=s;u<=c;u++)l.push(r.a.createElement("li",{key:u},r.a.createElement(Fn,{item:t[u-1],currentLesson:n,onLessonChange:a})));return r.a.createElement("ul",{className:fe()(o.lessonList,i?o.expanded:o.collapsed)},l)},qn=function(e){var t=e.currentClass,n=e.onPrevClick,a=e.onNextClick,o=e.classes;return r.a.createElement(v.r,{className:o.actions},r.a.createElement("div",{className:t},r.a.createElement(v.z,{color:"secondary",size:"small",title:"\u041f\u0440\u043e\u043b\u0438\u0441\u0442\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0440\u043e\u043a\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043d\u0430\u0437\u0430\u0434",onClick:n},r.a.createElement(pe.b,null))),r.a.createElement("div",{className:t},r.a.createElement(v.z,{color:"secondary",size:"small",title:"\u041f\u0440\u043e\u043b\u0438\u0441\u0442\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0440\u043e\u043a\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u043f\u0435\u0440\u0435\u0434",onClick:a},r.a.createElement(pe.c,null))))},Xn=function(e){function t(e){var n;Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).onPanelSwitch=function(){n.setState({expanded:!n.state.expanded,paginationStartTmp:n.props.currentLesson||n.props.defaultStart})},n.onSliderChange=function(e,t){n.setState(Object(de.a)({},e,t))},n.onPageJump=function(){n.props.onLessonChange(n.state.paginationStartTmp),n.setState({paginationStart:n.state.paginationStartTmp,paginationFinish:Un(n.state.paginationStartTmp,n.state.paginationTo,L),expanded:!1})},n.onPrevClick=function(e){e.stopPropagation();var t=_n(Jn(n.state),1,L);n.props.onLessonChange(t),n.setState({paginationStart:t,paginationStartTmp:t,paginationFinish:Un(t,n.state.paginationTo,L)})},n.onNextClick=function(e){e.stopPropagation();var t=Vn(Jn(n.state),n.state.paginationTo,L);n.props.onLessonChange(t),n.setState({paginationStart:t,paginationStartTmp:t,paginationFinish:Un(t,n.state.paginationTo,L)})};var a=L<=n.props.lastLesson&&n.props.currentLesson||n.props.defaultStart;return n.state={expanded:!1,paginationFrom:n.props.defaultStart,paginationTo:n.props.lastLesson,paginationStart:a,paginationFinish:Un(n.props.defaultStart,n.props.lastLesson,L),paginationStartTmp:a},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=L<=e.lastLesson&&e.currentLesson||this.props.defaultStart;this.setState({paginationTo:e.lastLesson,paginationStart:t,paginationFinish:Un(e.currentLesson||this.props.defaultStart,e.lastLesson,L),paginationStartTmp:t})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.lessons,a=e.currentLesson,o=e.onLessonChange,i=e.lastLesson,s=this.state,c=s.expanded,l=s.paginationStart,u=s.paginationFinish,m=s.paginationStartTmp,p={default:a||m,min:1,max:i,step:1,title:""};return i?r.a.createElement("div",{className:t.root},r.a.createElement(v.q,{expanded:c,onChange:this.onPanelSwitch},r.a.createElement(v.t,{expanded:c,expandIcon:r.a.createElement(pe.h,null)},r.a.createElement(qn,{currentClass:t.column,onPrevClick:this.onPrevClick,onNextClick:this.onNextClick,classes:t})),r.a.createElement(v.o,null),r.a.createElement(v.s,{className:t.details,style:{touchAction:"none",msTouchAction:"none"}},r.a.createElement(hn,{noTitle:!0,name:"paginationStartTmp",params:p,onSliderChange:this.onSliderChange})),r.a.createElement(v.o,null),r.a.createElement(v.r,{className:t.actions},r.a.createElement(v.u,{variant:"extended",color:"inherit",className:t.fab,title:'\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 "\u0423\u0440\u043e\u043a '+m+' - ..."',onClick:this.onPageJump},"c "+m),r.a.createElement(qn,{currentClass:t.columnMobile,onPrevClick:this.onPrevClick,onNextClick:this.onNextClick,classes:t}))),r.a.createElement(Yn,{lessons:n,currentLesson:a,classes:t,onLessonChange:o,expanded:!c,start:l,finish:u})):r.a.createElement(v.P,{variant:"caption",className:t.message},"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u043a\u0443\u0440\u0441 \u0438\u043b\u0438 \u043d\u0435\u0442 \u0443\u0440\u043e\u043a\u043e\u0432")}}]),t}(r.a.Component);Xn.Lessons=Yn,Xn.defaultProps={defaultStart:1};var $n,Qn=Object(y.withStyles)((function(e){return{root:{width:"100%"},fab:{margin:e.spacing.unit,marginRight:"auto",marginLeft:"auto",fontSize:"80%",textTransform:"none",flexShrink:1},extendedIcon:{marginRight:e.spacing.unit},details:{alignItems:"center",padding:"20px",overflowX:"hidden",textAlign:"center"},btn:{textTransform:"none",padding:"0",margin:"0 auto",textAlign:"center",flexShrink:1},lessonList:{flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-start",width:"90%",padding:"10px",listStyle:"none"},expanded:{display:"flex"},collapsed:{display:"none"},message:{margin:e.spacing.unit,padding:e.spacing.unit,textAlign:"center"},actions:{padding:"4px"}}}))(Xn),Zn=function(e){var t=e.courses,n=e.currentCourse,a=e.onCourseChange;return r.a.createElement(v.A,{dense:!0},t.map((function(e,t){return r.a.createElement(Hn,{key:e.name+" "+e.index,title:e.name,item:e,ind:t,currentCourse:n,onCourseChange:a})})))},ea=Object(y.withStyles)((function(e){return{}}))((function(e){var t=e.classes,n=e.courses,a=e.currentCourse,o=e.lastLesson,i=e.lessons,s=e.currentLesson,c=e.onCourseChange,l=e.onLessonChange;return r.a.createElement("div",null,r.a.createElement(v.o,null),r.a.createElement("div",{className:t.asideWrapperCourse},r.a.createElement(Zn,{key:"courses",courses:n,currentCourse:a,classes:t,onCourseChange:c})),r.a.createElement(v.o,null),a?r.a.createElement("div",{className:t.asideWrapperLesson},r.a.createElement(Qn,{key:"lessons",lessons:i,currentLesson:s,lastLesson:o,onLessonChange:l})):null)})),ta=function(e){var t=e.classes,n=e.currentMode,a=e.currentCourse,o=e.currentLesson,i=e.lessons,s=e.courses,c=e.lastLesson,l=e.mobileOpen,u=e.onDrawerToggle,m=e.onDebouncedLessonChange,p=e.onCourseChange,d=r.a.createElement(Bn,null,r.a.createElement(ea,{currentMode:n,currentCourse:a,currentLesson:o,lessons:i,courses:s,onLessonChange:m,onCourseChange:p,lastLesson:c}));return r.a.createElement("nav",{className:t.drawer},r.a.createElement(v.y,{smUp:!0},r.a.createElement(v.p,{variant:"temporary",anchor:"left",open:l,onClose:u,classes:{paper:t.drawerPaper}},r.a.createElement(r.a.Fragment,null,r.a.createElement(v.z,{color:"secondary","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c",onClick:u,className:t.menuButton,title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0432\u044b\u0431\u043e\u0440\u0430 \u043a\u0443\u0440\u0441\u0430 \u0438 \u0443\u0440\u043e\u043a\u043e\u0432 \u0431\u0435\u0437 \u0432\u044b\u0431\u043e\u0440\u0430"},r.a.createElement(Wn.a,null)),r.a.createElement(v.o,null),d))),r.a.createElement(v.y,{xsDown:!0},r.a.createElement(v.p,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},d)))},na=function(e){var t=e.classes,n=e.statusText;return r.a.createElement(v.P,{variant:"caption",color:"inherit",className:t.status},r.a.createElement("span",{className:t.underlined},n.mode),"\xa0",r.a.createElement(v.y,{smDown:!0},r.a.createElement("span",null,n.details)))},aa=Object(y.withStyles)((function(e){return{appBar:Object(de.a)({top:"auto",bottom:0,marginLeft:260},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(260,"px)")}),toolbar:{alignItems:"center",justifyContent:"space-between",borderTop:"3px solid ".concat(e.palette.primary.contrastText)},fabButtons:{position:"relative",zIndex:1,top:-20,marginLeft:"auto",width:"auto"},fabButton:{position:"relative",margin:"0 2px"},hidden:{display:"none"},searchButton:{color:e.palette.secondary.main},status:{marginLeft:2*e.spacing.unit}}}))((function(e){var t=e.classes,n=(e.theme,e.onNextClick),a=e.onPreviousClick,o=e.onSelectDataSource,i=e.openModal,s=e.currentTheme,c=Object(le.a)(e,["classes","theme","onNextClick","onPreviousClick","onSelectDataSource","openModal","currentTheme"]);return r.a.createElement(v.a,{position:"fixed",color:"primary",className:t.appBar},r.a.createElement(v.N,{className:t.toolbar},r.a.createElement(Nn.a,{className:t.searchButton,to:Jt.SEARCH,title:"\u041f\u043e\u0438\u0441\u043a \u0441\u043b\u043e\u0432\u0430 \u0432 \u0431\u0430\u0437\u0435 \u0438 \u0432 \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0447\u0435\u0440\u0435\u0437 API SkyEng"},r.a.createElement(pe.z,null)),r.a.createElement(cn,{onSelectDataSource:o}),r.a.createElement(v.y,{mdDown:!0,implementation:"css"},r.a.createElement(bn,Object.assign({currentTheme:s},c,{light:!0}))),r.a.createElement(na,{classes:t,statusText:c.statusText}),r.a.createElement("div",{className:t.fabButtons},r.a.createElement(v.u,{color:"secondary","aria-label":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0443\u0440\u043e\u043a",title:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0443\u0440\u043e\u043a (Alt+P) - Previous",className:t.fabButton,size:"small",onClick:a},r.a.createElement(pe.b,null)),r.a.createElement(v.u,{color:"primary","aria-label":"\u0421\u043f\u0440\u0430\u0432\u043a\u0430",title:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430.  \u041a\u043e\u0440\u043e\u0442\u043a\u043e -  \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0435\u0436\u0438\u043c: (Alt+X) - neXt, \u0420\u0435\u0441\u0442\u0430\u0440\u0442: (Alt+R) - Restart",className:t.fabButton,size:"small",onClick:i},r.a.createElement(pe.k,null)),r.a.createElement(v.u,{color:"secondary","aria-label":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0443\u0440\u043e\u043a",title:"C\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0443\u0440\u043e\u043a (ALt+N) - Next",className:t.fabButton,size:"small",onClick:n},r.a.createElement(pe.c,null)))))})),ra=function(e){var t=e.classes,n=e.isNotBormo,a=e.currentTheme,o=e.currentRoute,i=e.currentCourse,s=e.currentLesson,c=e.themes,l=e.onSelectDataSource,u=e.onThemeSelect,m=e.onSearchClick,p=e.onPreviousClick,d=e.onNextClick,h=e.onRestartClick,g=e.openModal,f=e.closeModal,b=-1!==Yt.filter((function(e){return e!==Jt.MAIN})).indexOf(o);return r.a.createElement(r.a.Fragment,null,b||n?r.a.createElement(r.a.Fragment,null,r.a.createElement(na,{classes:t,statusText:tn(o,i,s)}),r.a.createElement(cn,{onSelectDataSource:l,fixed:!0})):r.a.createElement(v.G,{className:t.paperFooter},r.a.createElement(aa,{onThemeSelect:u,currentTheme:a,themes:c,statusText:tn(o,i,s),onPreviousClick:p,onNextClick:d,onRestartClick:h,onSearchClick:m,openModal:g,closeModal:f,onSelectDataSource:l})))},oa=function(e){return e.text.map((function(e,t){return""===e?r.a.createElement(v.P,{key:t},"\xa0 "):r.a.createElement(v.P,{component:"p",variant:"body2",key:t}," ",e," ")}))},ia=function(e){var t=e.text;return r.a.createElement(v.P,{component:"p",variant:"body2"}," ",t," ")},sa=function(e){var t=e.text;return Array.isArray(t)?r.a.createElement(oa,{text:t}):r.a.createElement(ia,{text:t})},ca=["\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u043f\u043e \u043c\u043e\u0442\u0438\u0432\u0430\u043c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u043e\u0440\u043c\u043e\u0442\u0443\u043d\u0447\u0438\u043a\u0430.","\u041e\u0441\u043d\u043e\u0432\u0430 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u0443\u0440\u043e\u043a\u043e\u0432 - \u043b\u0435\u043a\u0441\u0438\u043a\u0430 \u0438\u0437 \u043a\u0430\u043a\u043e\u0433\u043e-\u0442\u043e \u043f\u043e\u043a\u0443\u043f\u043d\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430 \u0441 \u043d\u0435 \u043e\u0447\u0435\u043d\u044c \u0443\u0434\u043e\u0431\u043d\u044b\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u043c \u0434\u043b\u044f \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043b\u043e\u0432","","\u0420\u0435\u0436\u0438\u043c\u044b:","",'  - "\u0431\u043e\u0440\u043c\u043e\u0442\u0430\u043d\u0438\u0435": \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0441\u043b\u043e\u0432 \u0443\u0440\u043e\u043a\u0430 \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f','  - "\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c": \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043f\u043e\u0438\u0441\u043a\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u043f\u043e \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c\u0443 \u0441\u043b\u043e\u0432\u0443','  - "\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442": \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043f\u043e\u0438\u0441\u043a\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u043f\u043e \u0440\u0443\u0441\u0441\u043a\u043e\u043c\u0443 \u0441\u043b\u043e\u0432\u0443','  - "\u043f\u0440\u0430\u0432\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435": \u043d\u0430\u043a\u043e\u043b\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u043f\u043e \u0440\u0443\u0441\u0441\u043a\u043e\u043c\u0443 \u0441\u043b\u043e\u0432\u0443','  - "\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430": \u0441\u043c\u0435\u0448\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c','  - "\u0444\u0440\u0430\u0437\u044b": \u0447\u0443\u0436\u0434\u044b\u0439 \u0434\u043b\u044f \u0411\u043e\u0440\u043c\u043e\u0442\u0443\u043d\u0447\u0438\u043a\u0430 \u0440\u0435\u0436\u0438\u043c'],la=["\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0440\u0435\u0436\u0438\u043c\u044b \u0431\u043e\u0440\u043c\u043e\u0442\u0443\u043d\u0447\u0438\u043a\u0430: \u0411\u041e\u0420\u041c\u041e\u0422\u0410\u041d\u0418\u0415 - \u041a\u041e\u041d\u0422\u0420\u041e\u041b\u042c - \u041a\u041e\u041d\u0422\u0420\u041e\u041b\u042c \u041d\u0410\u041e\u0411\u041e\u0420\u041e\u0422 - \u041f\u0420\u0410\u0412\u041e\u041f\u0418\u0421\u0410\u041d\u0418\u0415 - \u041f\u0420\u041e\u0412\u0415\u0420\u041a\u0410. ","\u0414\u043e\u043f. \u0440\u0435\u0436\u0438\u043c - \u0424\u0420\u0410\u0417\u042b","","\u0412\u043e \u0432\u0441\u0435\u0445 \u044d\u0442\u0438\u0445 \u0440\u0435\u0436\u0438\u043c\u0430\u0445 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0433\u043e\u0440\u044f\u0447\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438:","  - Alt+R: (Restart) - \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0443\u0440\u043e\u043a\u0430","  - Alt+P: (Previous) - \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u0443\u0440\u043e\u043a\u0443","  - Alt+N: (Next) - \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0443\u0440\u043e\u043a\u0443","","\u0412 \u0440\u0435\u0436\u0438\u043c\u0435 \u0424\u0420\u0410\u0417\u042b \u0438 \u0432\u043e \u0432\u0441\u0435\u0445 \u041e\u0421\u041d\u041e\u0412\u041d\u042b\u0425 \u0440\u0435\u0436\u0438\u043c\u0430\u0445 (\u043a\u0440\u043e\u043c\u0435 \u0411\u043e\u0440\u043c\u043e\u0442\u0430\u043d\u0438\u044f) \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430:"," - Alt+H: (Hint) - \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 (\u0441 \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435\u043c \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0430 \u043e\u0448\u0438\u0431\u043a\u0438)","","\u0422\u043e\u043b\u044c\u043a\u043e \u0432 \u041e\u0421\u041d\u041e\u0412\u041d\u042b\u0425:","  - Alt+X: (neXt mode) - \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c\u0443 \u0440\u0435\u0436\u0438\u043c\u0443.","  - Alt+S: (Skip) - \u043f\u0440\u043e\u043f\u0443\u0441\u043a (\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439) \u043f\u043e\u0434\u0437\u0430\u0431\u044b\u0442\u043e\u0433\u043e \u0441\u043b\u043e\u0432\u0430","","\u0422\u043e\u043b\u044c\u043a\u043e \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0424\u0420\u0410\u0417\u042b:",'  - Alt+K: (Keyboard) - \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 "\u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u043d\u044b\u043c" \u0438 "\u043a\u043b\u0438\u043a\u0430\u0431\u0435\u043b\u044c\u043d\u044b\u043c" \u0440\u0435\u0436\u0438\u043c\u043e\u043c',"  - Alt+D: (Discard) - \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0444\u0440\u0430\u0437\u0443","  - Alt+E: (Error check) - \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u0438"],ua=function(e){var t="";switch(e){case se.ABOUT:t=ca;break;case se.HELP:t=la;break;default:t=""}return t},ma=function(){return window.location.pathname===Jt.PHRASES?[re.PHRASES,A,!0]:[re.COURSES,"data/courses.json",!1]},pa=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).initCurrentSpeaker=function(e){n.voiceList=e,n.bormoSpeaker.setSpeaker(e),n.bormoSpeaker.mute(n.state.soundMuted),n.bormoSpeaker.speaker&&n.setState({voiceConfig:Object.assign({},{volume:n.bormoSpeaker.speaker.ssu.volume,pitch:n.bormoSpeaker.speaker.ssu.pitch,rate:n.bormoSpeaker.speaker.ssu.rate})})},n.refineAsideContent=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.pathname===Jt.PHRASES,o=r!==n.state.isNotBormo,i=ma(r);(a||o)&&(n.setState((function(){return{isNotBormo:r}})),(t=n).getCoursesData.apply(t,Object(m.a)(i)))},n.onAppKeyPress=function(e){var t=String.fromCharCode(e.which).toLowerCase();if(e.altKey&&(Xt.hasOwnProperty(t)&&(e.preventDefault(),n.props.history.push(Xt[t])),"x"===t||"\u0447"===t)){var a=qt.indexOf(n.props.location.pathname);if(-1!==a){var r=a<qt.length-1?a+1:0;n.props.history.push(qt[r])}}},n.getCoursesData=function(e,t,a){var r,o,i,s,c,l,m=arguments;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>3&&void 0!==m[3]?m[3]:null,o=[],i=[],s=r||n.state.APIkey,c=s!==Q,l=$[s],n.setState((function(){return{isLoading:!0}})),!c||!l){t.next=18;break}return t.prev=8,t.next=11,u.a.awrap(S.a.get(l[e]));case 11:i=t.sent,o=i&&(i.status===Z?i.data.info:[]),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),c=!1;case 18:c||(o=[{name:"test",lastlesson:I}]),n.setState({isLoading:!1,courses:o,isNotBormo:a,currentCourse:0,currentLesson:0,content:[],APIkey:s});case 20:case"end":return t.stop()}}),null,null,[[8,15]])},n.getLessonData=function(e,t,a,r,o){var i,s,c,l,m,p,d;return u.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(i=n.state.APIkey,s=n.state.currentCourse,c=o?{lesson:e}:{course:s,lesson:e},l=$[i],m=[],p=[],d=i!==Q,n.setState((function(){return{isLoading:!0}})),!d||!l){h.next=19;break}return h.prev=9,h.next=12,u.a.awrap(S.a.get(l[t],{params:c}));case 12:p=h.sent,m=p&&p.status===Z?p.data.content:[],h.next=19;break;case 16:h.prev=16,h.t0=h.catch(9),d=!1;case 19:if(d){h.next=24;break}return h.next=22,u.a.awrap(S.a.get(r));case 22:p=h.sent,m=p.data.filter((function(t,n){var r=(parseInt(e,10)-1)*a||0;return n>=r&&n<r+a}));case 24:n.setState({isLoading:!1,content:m,currentLesson:e});case 25:case"end":return h.stop()}}),null,null,[[9,16]])},n.openModalAbout=function(){n.setState({isModalOpen:se.ABOUT})},n.openModalHelp=function(){n.setState({isModalOpen:se.HELP})},n.closeModal=function(){n.setState({isModalOpen:se.CLOSED})},n.openConfig=function(){n.setState({isConfigOpen:!0})},n.closeConfig=function(){n.setState({isConfigOpen:!1}),n.props.history.push(Jt.MAIN)},n.onConfigChange=function(e){var t=n.state.APIkey;if(n.setState(Object.assign({},Object(c.a)({},e,{isConfigOpen:!1}))),n.props.history.push(Jt.MAIN),t!==e.APIkey){var a,r=ma(n.state.isNotBormo);(a=n).getCoursesData.apply(a,Object(m.a)(r).concat([e.APIkey]))}n.bormoSpeaker.mute(e.soundMuted)},n.onCourseChange=function(e,t){var a=n.state,r=a.currentCourse,o=a.courses;if(e!==r&&t<=o.length){for(var i=o[t].lastlesson,s=[],c=1;c<=i;c++)s.push(c);n.setState({currentCourse:e,lastLesson:i,lessons:s,currentLesson:0,content:[]})}},n.onLessonChange=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=n.props.location.pathname===Jt.PHRASES,i=o?[e,re.PHRASES,D,A,!0]:[e,re.COURSES,R,T,!1];(a&&n.setState((function(e){return{mobileOpen:!1}})),r||e!==n.state.currentLesson)&&(t=n).getLessonData.apply(t,i)},n.onThemeSelect=function(e){n.setState({currentTheme:Object.assign({},O[e])})},n.onDrawerToggle=function(){n.setState((function(e){return{mobileOpen:!e.mobileOpen}}))},n.onPreviousClick=function(){var e=n.state.currentLesson;e>1&&n.onLessonChange(e-1)},n.onNextClick=function(){var e=n.state,t=e.lastLesson,a=e.currentLesson;a<t&&n.onLessonChange(a+1)},n.onRestartClick=function(){var e=n.state,t=e.lastLesson,a=e.currentLesson;a<=t&&n.onLessonChange(a,!0,!0)},n.moveOn=function(){var e=qt.indexOf(window.location.pathname);-1!==e&&e<qt.length-1?n.props.history.push(qt[e+1]):(n.onNextClick(),n.props.history.push(Jt.BORMO))},n.onSelectDataSource=function(e){var t,a=ma(n.state.isNotBormo);(t=n).getCoursesData.apply(t,Object(m.a)(a).concat([e]))},n.state=Zt(O.neutral,window.location.pathname===Jt.PHRASES,window.location.pathname===Jt.CONFIG),n.bormoSpeaker=new ce(n.state.soundMuted,n.state.voiceConfig),n.onDebouncedLessonChange=Object(k.debounce)(n.onDebouncedLessonChange.bind(Object(f.a)(n)),F),n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.refineAsideContent(window.location.pathname,!0),this.unlisten=this.props.history.listen((function(t,n){e.refineAsideContent(t)})),this.bormoSpeaker.supportSound&&this.bormoSpeaker.getVoiceList(this.initCurrentSpeaker),document.addEventListener("keyup",this.onAppKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onAppKeyPress),this.unlisten()}},{key:"onDebouncedLessonChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.onLessonChange(e,t,n)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.themes,a=e.location,o=this.state,i=o.currentMode,s=o.currentCourse,c=o.currentLesson,l=o.lessons,u=o.courses,m=o.currentTheme,p=o.mobileOpen,d=o.isModalOpen,h=o.isNotBormo,g=o.config,f=o.lastLesson;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.j,null),r.a.createElement(y.MuiThemeProvider,{theme:m.themeObject},r.a.createElement("div",{className:t.root},r.a.createElement(v.j,null),r.a.createElement(Rn,{classes:t,currentTheme:m,themes:n,onDrawerToggle:this.onDrawerToggle,openModal:this.openModalAbout,closeModal:this.closeModal,openConfig:this.openConfig,closeConfig:this.closeConfig,onThemeSelect:this.onThemeSelect}),r.a.createElement(ta,{classes:t,currentTheme:m,themes:n,lastLesson:f,currentMode:i,currentCourse:s,currentLesson:c,lessons:l,courses:u,mobileOpen:p,onDebouncedLessonChange:this.onDebouncedLessonChange,onCourseChange:this.onCourseChange,onDrawerToggle:this.onDrawerToggle,openModal:this.openModal,closeModal:this.closeModal,openConfig:this.openConfig,closeConfig:this.closeConfig,onThemeSelect:this.onThemeSelect}),r.a.createElement(wn,Object.assign({},this.props,this.state,{bormoSpeaker:this.bormoSpeaker,config:g,onNextClick:this.onNextClick,onPreviousClick:this.onPreviousClick,moveOn:this.moveOn,onRestartClick:this.onRestartClick,onThemeSelect:this.onThemeSelect,closeConfig:this.closeConfig,onConfigChange:this.onConfigChange})),r.a.createElement(ra,{classes:t,isNotBormo:h,currentRoute:a.pathname,themes:n,currentTheme:m,currentCourse:s,currentLesson:c,onThemeSelect:this.onThemeSelect,onSelectDataSource:this.onSelectDataSource,openModal:this.openModalHelp,closeModal:this.closeModal,onNextClick:this.onNextClick,onPreviousClick:this.onPreviousClick,onRestartClick:this.onRestartClick})),r.a.createElement(N,{title:"\u0411\u043e\u0440\u043c\u043e\u0442\u0443\u043d\u0447\u0438\u043a - 2019",innerComponent:r.a.createElement(sa,{text:ua(d)}),isModalOpen:d!==se.CLOSED,closeModal:this.closeModal})))}}]),t}(r.a.Component);pa.Loader=j,pa.defaultProps={themes:($n=O,Object.keys($n).map((function(e){return $n[e]})))};var da=Object(y.withStyles)((function(e){return{root:{display:"flex",flexDirection:"column",flexGrow:1,minHeight:"100vh"},drawer:Object(de.a)({padding:"0"},e.breakpoints.up("sm"),{padding:"20px",width:260,flexShrink:0}),appBar:Object(de.a)({marginLeft:260},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(260,"px)")}),menuButton:Object(de.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:260},content:Object(de.a)({flexGrow:1,display:"flex",justifyContent:"space-between",align:"stretch",padding:2*e.spacing.unit,marginLeft:0,paddingTop:"50px"},e.breakpoints.up("sm"),{marginLeft:260}),status:Object(de.a)({position:"fixed",bottom:"10px",left:"20px"},e.breakpoints.up("sm"),{left:"280px"}),contrast:{color:e.palette.primary.contrastText},underlined:{borderBottom:"2px solid ".concat(e.palette.primary.light)}}}),{withTheme:!0})(Object(E.a)(pa));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(s.a,null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(da,null))),document.getElementById("react")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[5463,1,2]]]);
//# sourceMappingURL=main.3d927d57.chunk.js.map